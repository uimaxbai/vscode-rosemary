"use strict";var uc=Object.create;var Uo=Object.defineProperty;var lc=Object.getOwnPropertyDescriptor;var dc=Object.getOwnPropertyNames;var fc=Object.getPrototypeOf,hc=Object.prototype.hasOwnProperty;var E=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var gc=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of dc(e))!hc.call(t,i)&&i!==n&&Uo(t,i,{get:()=>e[i],enumerable:!(r=lc(e,i))||r.enumerable});return t};var Ko=(t,e,n)=>(n=t!=null?uc(fc(t)):{},gc(e||!t||!t.__esModule?Uo(n,"default",{value:t,enumerable:!0}):n,t));var In=E(me=>{"use strict";Object.defineProperty(me,"__esModule",{value:!0});me.thenable=me.typedArray=me.stringArray=me.array=me.func=me.error=me.number=me.string=me.boolean=void 0;function mc(t){return t===!0||t===!1}me.boolean=mc;function Jo(t){return typeof t=="string"||t instanceof String}me.string=Jo;function pc(t){return typeof t=="number"||t instanceof Number}me.number=pc;function yc(t){return t instanceof Error}me.error=yc;function Go(t){return typeof t=="function"}me.func=Go;function Xo(t){return Array.isArray(t)}me.array=Xo;function vc(t){return Xo(t)&&t.every(e=>Jo(e))}me.stringArray=vc;function bc(t,e){return Array.isArray(t)&&t.every(e)}me.typedArray=bc;function _c(t){return t&&Go(t.then)}me.thenable=_c});var At=E(ke=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});ke.stringArray=ke.array=ke.func=ke.error=ke.number=ke.string=ke.boolean=void 0;function Dc(t){return t===!0||t===!1}ke.boolean=Dc;function Qo(t){return typeof t=="string"||t instanceof String}ke.string=Qo;function Rc(t){return typeof t=="number"||t instanceof Number}ke.number=Rc;function wc(t){return t instanceof Error}ke.error=wc;function Tc(t){return typeof t=="function"}ke.func=Tc;function Yo(t){return Array.isArray(t)}ke.array=Yo;function Pc(t){return Yo(t)&&t.every(e=>Qo(e))}ke.stringArray=Pc});var yi=E(j=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});j.Message=j.NotificationType9=j.NotificationType8=j.NotificationType7=j.NotificationType6=j.NotificationType5=j.NotificationType4=j.NotificationType3=j.NotificationType2=j.NotificationType1=j.NotificationType0=j.NotificationType=j.RequestType9=j.RequestType8=j.RequestType7=j.RequestType6=j.RequestType5=j.RequestType4=j.RequestType3=j.RequestType2=j.RequestType1=j.RequestType=j.RequestType0=j.AbstractMessageSignature=j.ParameterStructures=j.ResponseError=j.ErrorCodes=void 0;var Tt=At(),Zo;(function(t){t.ParseError=-32700,t.InvalidRequest=-32600,t.MethodNotFound=-32601,t.InvalidParams=-32602,t.InternalError=-32603,t.jsonrpcReservedErrorRangeStart=-32099,t.serverErrorStart=-32099,t.MessageWriteError=-32099,t.MessageReadError=-32098,t.PendingResponseRejected=-32097,t.ConnectionInactive=-32096,t.ServerNotInitialized=-32002,t.UnknownErrorCode=-32001,t.jsonrpcReservedErrorRangeEnd=-32e3,t.serverErrorEnd=-32e3})(Zo=j.ErrorCodes||(j.ErrorCodes={}));var sn=class extends Error{constructor(e,n,r){super(n),this.code=Tt.number(e)?e:Zo.UnknownErrorCode,this.data=r,Object.setPrototypeOf(this,sn.prototype)}toJson(){let e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),e}};j.ResponseError=sn;var _e=class{constructor(e){this.kind=e}static is(e){return e===_e.auto||e===_e.byName||e===_e.byPosition}toString(){return this.kind}};j.ParameterStructures=_e;_e.auto=new _e("auto");_e.byPosition=new _e("byPosition");_e.byName=new _e("byName");var ae=class{constructor(e,n){this.method=e,this.numberOfParams=n}get parameterStructures(){return _e.auto}};j.AbstractMessageSignature=ae;var Gr=class extends ae{constructor(e){super(e,0)}};j.RequestType0=Gr;var Xr=class extends ae{constructor(e,n=_e.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};j.RequestType=Xr;var Qr=class extends ae{constructor(e,n=_e.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};j.RequestType1=Qr;var Yr=class extends ae{constructor(e){super(e,2)}};j.RequestType2=Yr;var Zr=class extends ae{constructor(e){super(e,3)}};j.RequestType3=Zr;var ei=class extends ae{constructor(e){super(e,4)}};j.RequestType4=ei;var ti=class extends ae{constructor(e){super(e,5)}};j.RequestType5=ti;var ni=class extends ae{constructor(e){super(e,6)}};j.RequestType6=ni;var ri=class extends ae{constructor(e){super(e,7)}};j.RequestType7=ri;var ii=class extends ae{constructor(e){super(e,8)}};j.RequestType8=ii;var oi=class extends ae{constructor(e){super(e,9)}};j.RequestType9=oi;var si=class extends ae{constructor(e,n=_e.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};j.NotificationType=si;var ai=class extends ae{constructor(e){super(e,0)}};j.NotificationType0=ai;var ci=class extends ae{constructor(e,n=_e.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};j.NotificationType1=ci;var ui=class extends ae{constructor(e){super(e,2)}};j.NotificationType2=ui;var li=class extends ae{constructor(e){super(e,3)}};j.NotificationType3=li;var di=class extends ae{constructor(e){super(e,4)}};j.NotificationType4=di;var fi=class extends ae{constructor(e){super(e,5)}};j.NotificationType5=fi;var hi=class extends ae{constructor(e){super(e,6)}};j.NotificationType6=hi;var gi=class extends ae{constructor(e){super(e,7)}};j.NotificationType7=gi;var mi=class extends ae{constructor(e){super(e,8)}};j.NotificationType8=mi;var pi=class extends ae{constructor(e){super(e,9)}};j.NotificationType9=pi;var kc;(function(t){function e(i){let l=i;return l&&Tt.string(l.method)&&(Tt.string(l.id)||Tt.number(l.id))}t.isRequest=e;function n(i){let l=i;return l&&Tt.string(l.method)&&i.id===void 0}t.isNotification=n;function r(i){let l=i;return l&&(l.result!==void 0||!!l.error)&&(Tt.string(l.id)||Tt.number(l.id)||l.id===null)}t.isResponse=r})(kc=j.Message||(j.Message={}))});var bi=E(it=>{"use strict";var es;Object.defineProperty(it,"__esModule",{value:!0});it.LRUCache=it.LinkedMap=it.Touch=void 0;var Ce;(function(t){t.None=0,t.First=1,t.AsOld=t.First,t.Last=2,t.AsNew=t.Last})(Ce=it.Touch||(it.Touch={}));var An=class{constructor(){this[es]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,n=Ce.None){let r=this._map.get(e);if(r)return n!==Ce.None&&this.touch(r,n),r.value}set(e,n,r=Ce.None){let i=this._map.get(e);if(i)i.value=n,r!==Ce.None&&this.touch(i,r);else{switch(i={key:e,value:n,next:void 0,previous:void 0},r){case Ce.None:this.addItemLast(i);break;case Ce.First:this.addItemFirst(i);break;case Ce.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let n=this._map.get(e);if(n)return this._map.delete(e),this.removeItem(n),this._size--,n.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,n){let r=this._state,i=this._head;for(;i;){if(n?e.bind(n)(i.value,i.key,this):e(i.value,i.key,this),this._state!==r)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let e=this._state,n=this._head,r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){let i={value:n.key,done:!1};return n=n.next,i}else return{value:void 0,done:!0}}};return r}values(){let e=this._state,n=this._head,r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){let i={value:n.value,done:!1};return n=n.next,i}else return{value:void 0,done:!0}}};return r}entries(){let e=this._state,n=this._head,r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){let i={value:[n.key,n.value],done:!1};return n=n.next,i}else return{value:void 0,done:!0}}};return r}[(es=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let n=this._head,r=this.size;for(;n&&r>e;)this._map.delete(n.key),n=n.next,r--;this._head=n,this._size=r,n&&(n.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let n=e.next,r=e.previous;if(!n||!r)throw new Error("Invalid list");n.previous=r,r.next=n}e.next=void 0,e.previous=void 0,this._state++}touch(e,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==Ce.First&&n!==Ce.Last)){if(n===Ce.First){if(e===this._head)return;let r=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(r.previous=i,i.next=r),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(n===Ce.Last){if(e===this._tail)return;let r=e.next,i=e.previous;e===this._head?(r.previous=void 0,this._head=r):(r.previous=i,i.next=r),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((n,r)=>{e.push([r,n])}),e}fromJSON(e){this.clear();for(let[n,r]of e)this.set(n,r)}};it.LinkedMap=An;var vi=class extends An{constructor(e,n=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,n),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,n=Ce.AsNew){return super.get(e,n)}peek(e){return super.get(e,Ce.None)}set(e,n){return super.set(e,n,Ce.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};it.LRUCache=vi});var ts=E(an=>{"use strict";Object.defineProperty(an,"__esModule",{value:!0});an.Disposable=void 0;var Cc;(function(t){function e(n){return{dispose:n}}t.create=e})(Cc=an.Disposable||(an.Disposable={}))});var ft=E(Ri=>{"use strict";Object.defineProperty(Ri,"__esModule",{value:!0});var _i;function Di(){if(_i===void 0)throw new Error("No runtime abstraction layer installed");return _i}(function(t){function e(n){if(n===void 0)throw new Error("No runtime abstraction layer provided");_i=n}t.install=e})(Di||(Di={}));Ri.default=Di});var Wt=E(Pt=>{"use strict";Object.defineProperty(Pt,"__esModule",{value:!0});Pt.Emitter=Pt.Event=void 0;var qc=ft(),Sc;(function(t){let e={dispose(){}};t.None=function(){return e}})(Sc=Pt.Event||(Pt.Event={}));var wi=class{add(e,n=null,r){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(n),Array.isArray(r)&&r.push({dispose:()=>this.remove(e,n)})}remove(e,n=null){if(!this._callbacks)return;let r=!1;for(let i=0,l=this._callbacks.length;i<l;i++)if(this._callbacks[i]===e)if(this._contexts[i]===n){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else r=!0;if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let n=[],r=this._callbacks.slice(0),i=this._contexts.slice(0);for(let l=0,y=r.length;l<y;l++)try{n.push(r[l].apply(i[l],e))}catch(R){(0,qc.default)().console.error(R)}return n}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},Lt=class{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,n,r)=>{this._callbacks||(this._callbacks=new wi),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,n);let i={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,n),i.dispose=Lt._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(r)&&r.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};Pt.Emitter=Lt;Lt._noop=function(){}});var Wn=E(kt=>{"use strict";Object.defineProperty(kt,"__esModule",{value:!0});kt.CancellationTokenSource=kt.CancellationToken=void 0;var Ec=ft(),Nc=At(),Ti=Wt(),Pi;(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Ti.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Ti.Event.None});function e(n){let r=n;return r&&(r===t.None||r===t.Cancelled||Nc.boolean(r.isCancellationRequested)&&!!r.onCancellationRequested)}t.is=e})(Pi=kt.CancellationToken||(kt.CancellationToken={}));var Mc=Object.freeze(function(t,e){let n=(0,Ec.default)().timer.setTimeout(t.bind(e),0);return{dispose(){n.dispose()}}}),Ln=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?Mc:(this._emitter||(this._emitter=new Ti.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},ki=class{get token(){return this._token||(this._token=new Ln),this._token}cancel(){this._token?this._token.cancel():this._token=Pi.Cancelled}dispose(){this._token?this._token instanceof Ln&&this._token.dispose():this._token=Pi.None}};kt.CancellationTokenSource=ki});var ns=E(Ht=>{"use strict";Object.defineProperty(Ht,"__esModule",{value:!0});Ht.SharedArrayReceiverStrategy=Ht.SharedArraySenderStrategy=void 0;var Oc=Wn(),cn;(function(t){t.Continue=0,t.Cancelled=1})(cn||(cn={}));var Ci=class{constructor(){this.buffers=new Map}enableCancellation(e){if(e.id===null)return;let n=new SharedArrayBuffer(4),r=new Int32Array(n,0,1);r[0]=cn.Continue,this.buffers.set(e.id,n),e.$cancellationData=n}async sendCancellation(e,n){let r=this.buffers.get(n);if(r===void 0)return;let i=new Int32Array(r,0,1);Atomics.store(i,0,cn.Cancelled)}cleanup(e){this.buffers.delete(e)}dispose(){this.buffers.clear()}};Ht.SharedArraySenderStrategy=Ci;var qi=class{constructor(e){this.data=new Int32Array(e,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===cn.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}},Si=class{constructor(e){this.token=new qi(e)}cancel(){}dispose(){}},Ei=class{constructor(){this.kind="request"}createCancellationTokenSource(e){let n=e.$cancellationData;return n===void 0?new Oc.CancellationTokenSource:new Si(n)}};Ht.SharedArrayReceiverStrategy=Ei});var Mi=E(Hn=>{"use strict";Object.defineProperty(Hn,"__esModule",{value:!0});Hn.Semaphore=void 0;var jc=ft(),Ni=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((n,r)=>{this._waiting.push({thunk:e,resolve:n,reject:r}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,jc.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let n=e.thunk();n instanceof Promise?n.then(r=>{this._active--,e.resolve(r),this.runNext()},r=>{this._active--,e.reject(r),this.runNext()}):(this._active--,e.resolve(n),this.runNext())}catch(n){this._active--,e.reject(n),this.runNext()}}};Hn.Semaphore=Ni});var rs=E(ot=>{"use strict";Object.defineProperty(ot,"__esModule",{value:!0});ot.ReadableStreamMessageReader=ot.AbstractMessageReader=ot.MessageReader=void 0;var ji=ft(),zt=At(),Oi=Wt(),xc=Mi(),Fc;(function(t){function e(n){let r=n;return r&&zt.func(r.listen)&&zt.func(r.dispose)&&zt.func(r.onError)&&zt.func(r.onClose)&&zt.func(r.onPartialMessage)}t.is=e})(Fc=ot.MessageReader||(ot.MessageReader={}));var zn=class{constructor(){this.errorEmitter=new Oi.Emitter,this.closeEmitter=new Oi.Emitter,this.partialMessageEmitter=new Oi.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${zt.string(e.message)?e.message:"unknown"}`)}};ot.AbstractMessageReader=zn;var xi;(function(t){function e(n){let r,i,l,y=new Map,R,P=new Map;if(n===void 0||typeof n=="string")r=n??"utf-8";else{if(r=n.charset??"utf-8",n.contentDecoder!==void 0&&(l=n.contentDecoder,y.set(l.name,l)),n.contentDecoders!==void 0)for(let w of n.contentDecoders)y.set(w.name,w);if(n.contentTypeDecoder!==void 0&&(R=n.contentTypeDecoder,P.set(R.name,R)),n.contentTypeDecoders!==void 0)for(let w of n.contentTypeDecoders)P.set(w.name,w)}return R===void 0&&(R=(0,ji.default)().applicationJson.decoder,P.set(R.name,R)),{charset:r,contentDecoder:l,contentDecoders:y,contentTypeDecoder:R,contentTypeDecoders:P}}t.fromOptions=e})(xi||(xi={}));var Fi=class extends zn{constructor(e,n){super(),this.readable=e,this.options=xi.fromOptions(n),this.buffer=(0,ji.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new xc.Semaphore(1)}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let n=this.readable.onData(r=>{this.onData(r)});return this.readable.onError(r=>this.fireError(r)),this.readable.onClose(()=>this.fireClose()),n}onData(e){for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let r=this.buffer.tryReadHeaders(!0);if(!r)return;let i=r.get("content-length");if(!i){this.fireError(new Error("Header must provide a Content-Length property."));return}let l=parseInt(i);if(isNaN(l)){this.fireError(new Error("Content-Length value must be a number."));return}this.nextMessageLength=l}let n=this.buffer.tryReadBody(this.nextMessageLength);if(n===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let r=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(n):n,i=await this.options.contentTypeDecoder.decode(r,this.options);this.callback(i)}).catch(r=>{this.fireError(r)})}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,ji.default)().timer.setTimeout((e,n)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:n}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};ot.ReadableStreamMessageReader=Fi});var as=E(st=>{"use strict";Object.defineProperty(st,"__esModule",{value:!0});st.WriteableStreamMessageWriter=st.AbstractMessageWriter=st.MessageWriter=void 0;var is=ft(),un=At(),Ic=Mi(),os=Wt(),Ac="Content-Length: ",ss=`\r
`,Lc;(function(t){function e(n){let r=n;return r&&un.func(r.dispose)&&un.func(r.onClose)&&un.func(r.onError)&&un.func(r.write)}t.is=e})(Lc=st.MessageWriter||(st.MessageWriter={}));var $n=class{constructor(){this.errorEmitter=new os.Emitter,this.closeEmitter=new os.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,n,r){this.errorEmitter.fire([this.asError(e),n,r])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${un.string(e.message)?e.message:"unknown"}`)}};st.AbstractMessageWriter=$n;var Ii;(function(t){function e(n){return n===void 0||typeof n=="string"?{charset:n??"utf-8",contentTypeEncoder:(0,is.default)().applicationJson.encoder}:{charset:n.charset??"utf-8",contentEncoder:n.contentEncoder,contentTypeEncoder:n.contentTypeEncoder??(0,is.default)().applicationJson.encoder}}t.fromOptions=e})(Ii||(Ii={}));var Ai=class extends $n{constructor(e,n){super(),this.writable=e,this.options=Ii.fromOptions(n),this.errorCount=0,this.writeSemaphore=new Ic.Semaphore(1),this.writable.onError(r=>this.fireError(r)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(r=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(r):r).then(r=>{let i=[];return i.push(Ac,r.byteLength.toString(),ss),i.push(ss),this.doWrite(e,i,r)},r=>{throw this.fireError(r),r}))}async doWrite(e,n,r){try{return await this.writable.write(n.join(""),"ascii"),this.writable.write(r)}catch(i){return this.handleError(i,e),Promise.reject(i)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){this.writable.end()}};st.WriteableStreamMessageWriter=Ai});var cs=E(Bn=>{"use strict";Object.defineProperty(Bn,"__esModule",{value:!0});Bn.AbstractMessageBuffer=void 0;var Wc=13,Hc=10,zc=`\r
`,Li=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let n=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(n),this._totalLength+=n.byteLength}tryReadHeaders(e=!1){if(this._chunks.length===0)return;let n=0,r=0,i=0,l=0;e:for(;r<this._chunks.length;){let w=this._chunks[r];i=0;t:for(;i<w.length;){switch(w[i]){case Wc:switch(n){case 0:n=1;break;case 2:n=3;break;default:n=0}break;case Hc:switch(n){case 1:n=2;break;case 3:n=4,i++;break e;default:n=0}break;default:n=0}i++}l+=w.byteLength,r++}if(n!==4)return;let y=this._read(l+i),R=new Map,P=this.toString(y,"ascii").split(zc);if(P.length<2)return R;for(let w=0;w<P.length-2;w++){let T=P[w],M=T.indexOf(":");if(M===-1)throw new Error("Message header must separate key and value using :");let S=T.substr(0,M),I=T.substr(M+1).trim();R.set(e?S.toLowerCase():S,I)}return R}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let l=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(l)}if(this._chunks[0].byteLength>e){let l=this._chunks[0],y=this.asNative(l,e);return this._chunks[0]=l.slice(e),this._totalLength-=e,y}let n=this.allocNative(e),r=0,i=0;for(;e>0;){let l=this._chunks[i];if(l.byteLength>e){let y=l.slice(0,e);n.set(y,r),r+=e,this._chunks[i]=l.slice(e),this._totalLength-=e,e-=e}else n.set(l,r),r+=l.byteLength,this._chunks.shift(),this._totalLength-=l.byteLength,e-=l.byteLength}return n}};Bn.AbstractMessageBuffer=Li});var ms=E(O=>{"use strict";Object.defineProperty(O,"__esModule",{value:!0});O.createMessageConnection=O.ConnectionOptions=O.MessageStrategy=O.CancellationStrategy=O.CancellationSenderStrategy=O.CancellationReceiverStrategy=O.RequestCancellationReceiverStrategy=O.IdCancellationReceiverStrategy=O.ConnectionStrategy=O.ConnectionError=O.ConnectionErrors=O.LogTraceNotification=O.SetTraceNotification=O.TraceFormat=O.TraceValues=O.Trace=O.NullLogger=O.ProgressType=O.ProgressToken=void 0;var us=ft(),le=At(),F=yi(),ls=bi(),ln=Wt(),Wi=Wn(),fn;(function(t){t.type=new F.NotificationType("$/cancelRequest")})(fn||(fn={}));var ds;(function(t){function e(n){return typeof n=="string"||typeof n=="number"}t.is=e})(ds=O.ProgressToken||(O.ProgressToken={}));var dn;(function(t){t.type=new F.NotificationType("$/progress")})(dn||(dn={}));var Hi=class{constructor(){}};O.ProgressType=Hi;var zi;(function(t){function e(n){return le.func(n)}t.is=e})(zi||(zi={}));O.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var ee;(function(t){t[t.Off=0]="Off",t[t.Messages=1]="Messages",t[t.Compact=2]="Compact",t[t.Verbose=3]="Verbose"})(ee=O.Trace||(O.Trace={}));var $c;(function(t){t.Off="off",t.Messages="messages",t.Compact="compact",t.Verbose="verbose"})($c=O.TraceValues||(O.TraceValues={}));(function(t){function e(r){if(!le.string(r))return t.Off;switch(r=r.toLowerCase(),r){case"off":return t.Off;case"messages":return t.Messages;case"compact":return t.Compact;case"verbose":return t.Verbose;default:return t.Off}}t.fromString=e;function n(r){switch(r){case t.Off:return"off";case t.Messages:return"messages";case t.Compact:return"compact";case t.Verbose:return"verbose";default:return"off"}}t.toString=n})(ee=O.Trace||(O.Trace={}));var ze;(function(t){t.Text="text",t.JSON="json"})(ze=O.TraceFormat||(O.TraceFormat={}));(function(t){function e(n){return le.string(n)?(n=n.toLowerCase(),n==="json"?t.JSON:t.Text):t.Text}t.fromString=e})(ze=O.TraceFormat||(O.TraceFormat={}));var fs;(function(t){t.type=new F.NotificationType("$/setTrace")})(fs=O.SetTraceNotification||(O.SetTraceNotification={}));var $i;(function(t){t.type=new F.NotificationType("$/logTrace")})($i=O.LogTraceNotification||(O.LogTraceNotification={}));var Vn;(function(t){t[t.Closed=1]="Closed",t[t.Disposed=2]="Disposed",t[t.AlreadyListening=3]="AlreadyListening"})(Vn=O.ConnectionErrors||(O.ConnectionErrors={}));var ht=class extends Error{constructor(e,n){super(n),this.code=e,Object.setPrototypeOf(this,ht.prototype)}};O.ConnectionError=ht;var hs;(function(t){function e(n){let r=n;return r&&le.func(r.cancelUndispatched)}t.is=e})(hs=O.ConnectionStrategy||(O.ConnectionStrategy={}));var Ui;(function(t){function e(n){let r=n;return r&&(r.kind===void 0||r.kind==="id")&&le.func(r.createCancellationTokenSource)&&(r.dispose===void 0||le.func(r.dispose))}t.is=e})(Ui=O.IdCancellationReceiverStrategy||(O.IdCancellationReceiverStrategy={}));var gs;(function(t){function e(n){let r=n;return r&&r.kind==="request"&&le.func(r.createCancellationTokenSource)&&(r.dispose===void 0||le.func(r.dispose))}t.is=e})(gs=O.RequestCancellationReceiverStrategy||(O.RequestCancellationReceiverStrategy={}));var Bi;(function(t){t.Message=Object.freeze({createCancellationTokenSource(n){return new Wi.CancellationTokenSource}});function e(n){return Ui.is(n)||gs.is(n)}t.is=e})(Bi=O.CancellationReceiverStrategy||(O.CancellationReceiverStrategy={}));var Vi;(function(t){t.Message=Object.freeze({sendCancellation(n,r){return n.sendNotification(fn.type,{id:r})},cleanup(n){}});function e(n){let r=n;return r&&le.func(r.sendCancellation)&&le.func(r.cleanup)}t.is=e})(Vi=O.CancellationSenderStrategy||(O.CancellationSenderStrategy={}));var Ki;(function(t){t.Message=Object.freeze({receiver:Bi.Message,sender:Vi.Message});function e(n){let r=n;return r&&Bi.is(r.receiver)&&Vi.is(r.sender)}t.is=e})(Ki=O.CancellationStrategy||(O.CancellationStrategy={}));var Ji;(function(t){function e(n){let r=n;return r&&le.func(r.handleMessage)}t.is=e})(Ji=O.MessageStrategy||(O.MessageStrategy={}));var Bc;(function(t){function e(n){let r=n;return r&&(Ki.is(r.cancellationStrategy)||hs.is(r.connectionStrategy)||Ji.is(r.messageStrategy))}t.is=e})(Bc=O.ConnectionOptions||(O.ConnectionOptions={}));var $e;(function(t){t[t.New=1]="New",t[t.Listening=2]="Listening",t[t.Closed=3]="Closed",t[t.Disposed=4]="Disposed"})($e||($e={}));function Vc(t,e,n,r){let i=n!==void 0?n:O.NullLogger,l=0,y=0,R=0,P="2.0",w,T=new Map,M,S=new Map,I=new Map,z,J=new ls.LinkedMap,G=new Map,L=new Set,p=new Map,h=ee.Off,D=ze.Text,x,B=$e.New,te=new ln.Emitter,be=new ln.Emitter,re=new ln.Emitter,Dt=new ln.Emitter,Rt=new ln.Emitter,Ne=r&&r.cancellationStrategy?r.cancellationStrategy:Ki.Message;function en(u){if(u===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+u.toString()}function Ot(u){return u===null?"res-unknown-"+(++R).toString():"res-"+u.toString()}function Sn(){return"not-"+(++y).toString()}function xr(u,b){F.Message.isRequest(b)?u.set(en(b.id),b):F.Message.isResponse(b)?u.set(Ot(b.id),b):u.set(Sn(),b)}function Fr(u){}function En(){return B===$e.Listening}function jt(){return B===$e.Closed}function ut(){return B===$e.Disposed}function tn(){(B===$e.New||B===$e.Listening)&&(B=$e.Closed,be.fire(void 0))}function xt(u){te.fire([u,void 0,void 0])}function Ir(u){te.fire(u)}t.onClose(tn),t.onError(xt),e.onClose(tn),e.onError(Ir);function Nn(){z||J.size===0||(z=(0,us.default)().timer.setImmediate(()=>{z=void 0,Ar()}))}function Mn(u){F.Message.isRequest(u)?Wr(u):F.Message.isNotification(u)?zr(u):F.Message.isResponse(u)?Hr(u):nn(u)}function Ar(){if(J.size===0)return;let u=J.shift();try{let b=r?.messageStrategy;Ji.is(b)?b.handleMessage(u,Mn):Mn(u)}finally{Nn()}}let Lr=u=>{try{if(F.Message.isNotification(u)&&u.method===fn.type.method){let b=u.params.id,C=en(b),N=J.get(C);if(F.Message.isRequest(N)){let Z=r?.connectionStrategy,ce=Z&&Z.cancelUndispatched?Z.cancelUndispatched(N,Fr):void 0;if(ce&&(ce.error!==void 0||ce.result!==void 0)){J.delete(C),p.delete(b),ce.id=N.id,Ft(ce,u.method,Date.now()),e.write(ce).catch(()=>i.error("Sending response for canceled message failed."));return}}let ne=p.get(b);if(ne!==void 0){ne.cancel(),rn(u);return}else L.add(b)}xr(J,u)}finally{Nn()}};function Wr(u){if(ut())return;function b(V,ie,Y){let ge={jsonrpc:P,id:u.id};V instanceof F.ResponseError?ge.error=V.toJson():ge.result=V===void 0?null:V,Ft(ge,ie,Y),e.write(ge).catch(()=>i.error("Sending response failed."))}function C(V,ie,Y){let ge={jsonrpc:P,id:u.id,error:V.toJson()};Ft(ge,ie,Y),e.write(ge).catch(()=>i.error("Sending response failed."))}function N(V,ie,Y){V===void 0&&(V=null);let ge={jsonrpc:P,id:u.id,result:V};Ft(ge,ie,Y),e.write(ge).catch(()=>i.error("Sending response failed."))}Vr(u);let ne=T.get(u.method),Z,ce;ne&&(Z=ne.type,ce=ne.handler);let ue=Date.now();if(ce||w){let V=u.id??String(Date.now()),ie=Ui.is(Ne.receiver)?Ne.receiver.createCancellationTokenSource(V):Ne.receiver.createCancellationTokenSource(u);u.id!==null&&L.has(u.id)&&ie.cancel(),u.id!==null&&p.set(V,ie);try{let Y;if(ce)if(u.params===void 0){if(Z!==void 0&&Z.numberOfParams!==0){C(new F.ResponseError(F.ErrorCodes.InvalidParams,`Request ${u.method} defines ${Z.numberOfParams} params but received none.`),u.method,ue);return}Y=ce(ie.token)}else if(Array.isArray(u.params)){if(Z!==void 0&&Z.parameterStructures===F.ParameterStructures.byName){C(new F.ResponseError(F.ErrorCodes.InvalidParams,`Request ${u.method} defines parameters by name but received parameters by position`),u.method,ue);return}Y=ce(...u.params,ie.token)}else{if(Z!==void 0&&Z.parameterStructures===F.ParameterStructures.byPosition){C(new F.ResponseError(F.ErrorCodes.InvalidParams,`Request ${u.method} defines parameters by position but received parameters by name`),u.method,ue);return}Y=ce(u.params,ie.token)}else w&&(Y=w(u.method,u.params,ie.token));let ge=Y;Y?ge.then?ge.then(De=>{p.delete(V),b(De,u.method,ue)},De=>{p.delete(V),De instanceof F.ResponseError?C(De,u.method,ue):De&&le.string(De.message)?C(new F.ResponseError(F.ErrorCodes.InternalError,`Request ${u.method} failed with message: ${De.message}`),u.method,ue):C(new F.ResponseError(F.ErrorCodes.InternalError,`Request ${u.method} failed unexpectedly without providing any details.`),u.method,ue)}):(p.delete(V),b(Y,u.method,ue)):(p.delete(V),N(Y,u.method,ue))}catch(Y){p.delete(V),Y instanceof F.ResponseError?b(Y,u.method,ue):Y&&le.string(Y.message)?C(new F.ResponseError(F.ErrorCodes.InternalError,`Request ${u.method} failed with message: ${Y.message}`),u.method,ue):C(new F.ResponseError(F.ErrorCodes.InternalError,`Request ${u.method} failed unexpectedly without providing any details.`),u.method,ue)}}else C(new F.ResponseError(F.ErrorCodes.MethodNotFound,`Unhandled method ${u.method}`),u.method,ue)}function Hr(u){if(!ut())if(u.id===null)u.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(u.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let b=u.id,C=G.get(b);if(Ur(u,C),C!==void 0){G.delete(b);try{if(u.error){let N=u.error;C.reject(new F.ResponseError(N.code,N.message,N.data))}else if(u.result!==void 0)C.resolve(u.result);else throw new Error("Should never happen.")}catch(N){N.message?i.error(`Response handler '${C.method}' failed with message: ${N.message}`):i.error(`Response handler '${C.method}' failed unexpectedly.`)}}}}function zr(u){if(ut())return;let b,C;if(u.method===fn.type.method){let N=u.params.id;L.delete(N),rn(u);return}else{let N=S.get(u.method);N&&(C=N.handler,b=N.type)}if(C||M)try{if(rn(u),C)if(u.params===void 0)b!==void 0&&b.numberOfParams!==0&&b.parameterStructures!==F.ParameterStructures.byName&&i.error(`Notification ${u.method} defines ${b.numberOfParams} params but received none.`),C();else if(Array.isArray(u.params)){let N=u.params;u.method===dn.type.method&&N.length===2&&ds.is(N[0])?C({token:N[0],value:N[1]}):(b!==void 0&&(b.parameterStructures===F.ParameterStructures.byName&&i.error(`Notification ${u.method} defines parameters by name but received parameters by position`),b.numberOfParams!==u.params.length&&i.error(`Notification ${u.method} defines ${b.numberOfParams} params but received ${N.length} arguments`)),C(...N))}else b!==void 0&&b.parameterStructures===F.ParameterStructures.byPosition&&i.error(`Notification ${u.method} defines parameters by position but received parameters by name`),C(u.params);else M&&M(u.method,u.params)}catch(N){N.message?i.error(`Notification handler '${u.method}' failed with message: ${N.message}`):i.error(`Notification handler '${u.method}' failed unexpectedly.`)}else re.fire(u)}function nn(u){if(!u){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(u,null,4)}`);let b=u;if(le.string(b.id)||le.number(b.id)){let C=b.id,N=G.get(C);N&&N.reject(new Error("The received response has neither a result nor an error property."))}}function Qe(u){if(u!=null)switch(h){case ee.Verbose:return JSON.stringify(u,null,4);case ee.Compact:return JSON.stringify(u);default:return}}function $r(u){if(!(h===ee.Off||!x))if(D===ze.Text){let b;(h===ee.Verbose||h===ee.Compact)&&u.params&&(b=`Params: ${Qe(u.params)}

`),x.log(`Sending request '${u.method} - (${u.id})'.`,b)}else lt("send-request",u)}function Br(u){if(!(h===ee.Off||!x))if(D===ze.Text){let b;(h===ee.Verbose||h===ee.Compact)&&(u.params?b=`Params: ${Qe(u.params)}

`:b=`No parameters provided.

`),x.log(`Sending notification '${u.method}'.`,b)}else lt("send-notification",u)}function Ft(u,b,C){if(!(h===ee.Off||!x))if(D===ze.Text){let N;(h===ee.Verbose||h===ee.Compact)&&(u.error&&u.error.data?N=`Error data: ${Qe(u.error.data)}

`:u.result?N=`Result: ${Qe(u.result)}

`:u.error===void 0&&(N=`No result returned.

`)),x.log(`Sending response '${b} - (${u.id})'. Processing request took ${Date.now()-C}ms`,N)}else lt("send-response",u)}function Vr(u){if(!(h===ee.Off||!x))if(D===ze.Text){let b;(h===ee.Verbose||h===ee.Compact)&&u.params&&(b=`Params: ${Qe(u.params)}

`),x.log(`Received request '${u.method} - (${u.id})'.`,b)}else lt("receive-request",u)}function rn(u){if(!(h===ee.Off||!x||u.method===$i.type.method))if(D===ze.Text){let b;(h===ee.Verbose||h===ee.Compact)&&(u.params?b=`Params: ${Qe(u.params)}

`:b=`No parameters provided.

`),x.log(`Received notification '${u.method}'.`,b)}else lt("receive-notification",u)}function Ur(u,b){if(!(h===ee.Off||!x))if(D===ze.Text){let C;if((h===ee.Verbose||h===ee.Compact)&&(u.error&&u.error.data?C=`Error data: ${Qe(u.error.data)}

`:u.result?C=`Result: ${Qe(u.result)}

`:u.error===void 0&&(C=`No result returned.

`)),b){let N=u.error?` Request failed: ${u.error.message} (${u.error.code}).`:"";x.log(`Received response '${b.method} - (${u.id})' in ${Date.now()-b.timerStart}ms.${N}`,C)}else x.log(`Received response ${u.id} without active response promise.`,C)}else lt("receive-response",u)}function lt(u,b){if(!x||h===ee.Off)return;let C={isLSPMessage:!0,type:u,message:b,timestamp:Date.now()};x.log(C)}function wt(){if(jt())throw new ht(Vn.Closed,"Connection is closed.");if(ut())throw new ht(Vn.Disposed,"Connection is disposed.")}function Kr(){if(En())throw new ht(Vn.AlreadyListening,"Connection is already listening")}function Jr(){if(!En())throw new Error("Call listen() first.")}function nt(u){return u===void 0?null:u}function On(u){if(u!==null)return u}function jn(u){return u!=null&&!Array.isArray(u)&&typeof u=="object"}function on(u,b){switch(u){case F.ParameterStructures.auto:return jn(b)?On(b):[nt(b)];case F.ParameterStructures.byName:if(!jn(b))throw new Error("Received parameters by name but param is not an object literal.");return On(b);case F.ParameterStructures.byPosition:return[nt(b)];default:throw new Error(`Unknown parameter structure ${u.toString()}`)}}function xn(u,b){let C,N=u.numberOfParams;switch(N){case 0:C=void 0;break;case 1:C=on(u.parameterStructures,b[0]);break;default:C=[];for(let ne=0;ne<b.length&&ne<N;ne++)C.push(nt(b[ne]));if(b.length<N)for(let ne=b.length;ne<N;ne++)C.push(null);break}return C}let dt={sendNotification:(u,...b)=>{wt();let C,N;if(le.string(u)){C=u;let Z=b[0],ce=0,ue=F.ParameterStructures.auto;F.ParameterStructures.is(Z)&&(ce=1,ue=Z);let V=b.length,ie=V-ce;switch(ie){case 0:N=void 0;break;case 1:N=on(ue,b[ce]);break;default:if(ue===F.ParameterStructures.byName)throw new Error(`Received ${ie} parameters for 'by Name' notification parameter structure.`);N=b.slice(ce,V).map(Y=>nt(Y));break}}else{let Z=b;C=u.method,N=xn(u,Z)}let ne={jsonrpc:P,method:C,params:N};return Br(ne),e.write(ne).catch(Z=>{throw i.error("Sending notification failed."),Z})},onNotification:(u,b)=>{wt();let C;return le.func(u)?M=u:b&&(le.string(u)?(C=u,S.set(u,{type:void 0,handler:b})):(C=u.method,S.set(u.method,{type:u,handler:b}))),{dispose:()=>{C!==void 0?S.delete(C):M=void 0}}},onProgress:(u,b,C)=>{if(I.has(b))throw new Error(`Progress handler for token ${b} already registered`);return I.set(b,C),{dispose:()=>{I.delete(b)}}},sendProgress:(u,b,C)=>dt.sendNotification(dn.type,{token:b,value:C}),onUnhandledProgress:Dt.event,sendRequest:(u,...b)=>{wt(),Jr();let C,N,ne;if(le.string(u)){C=u;let V=b[0],ie=b[b.length-1],Y=0,ge=F.ParameterStructures.auto;F.ParameterStructures.is(V)&&(Y=1,ge=V);let De=b.length;Wi.CancellationToken.is(ie)&&(De=De-1,ne=ie);let xe=De-Y;switch(xe){case 0:N=void 0;break;case 1:N=on(ge,b[Y]);break;default:if(ge===F.ParameterStructures.byName)throw new Error(`Received ${xe} parameters for 'by Name' request parameter structure.`);N=b.slice(Y,De).map(g=>nt(g));break}}else{let V=b;C=u.method,N=xn(u,V);let ie=u.numberOfParams;ne=Wi.CancellationToken.is(V[ie])?V[ie]:void 0}let Z=l++,ce;ne&&(ce=ne.onCancellationRequested(()=>{let V=Ne.sender.sendCancellation(dt,Z);return V===void 0?(i.log(`Received no promise from cancellation strategy when cancelling id ${Z}`),Promise.resolve()):V.catch(()=>{i.log(`Sending cancellation messages for id ${Z} failed`)})}));let ue={jsonrpc:P,id:Z,method:C,params:N};return $r(ue),typeof Ne.sender.enableCancellation=="function"&&Ne.sender.enableCancellation(ue),new Promise(async(V,ie)=>{let Y=xe=>{V(xe),Ne.sender.cleanup(Z),ce?.dispose()},ge=xe=>{ie(xe),Ne.sender.cleanup(Z),ce?.dispose()},De={method:C,timerStart:Date.now(),resolve:Y,reject:ge};try{await e.write(ue),G.set(Z,De)}catch(xe){throw i.error("Sending request failed."),De.reject(new F.ResponseError(F.ErrorCodes.MessageWriteError,xe.message?xe.message:"Unknown reason")),xe}})},onRequest:(u,b)=>{wt();let C=null;return zi.is(u)?(C=void 0,w=u):le.string(u)?(C=null,b!==void 0&&(C=u,T.set(u,{handler:b,type:void 0}))):b!==void 0&&(C=u.method,T.set(u.method,{type:u,handler:b})),{dispose:()=>{C!==null&&(C!==void 0?T.delete(C):w=void 0)}}},hasPendingResponse:()=>G.size>0,trace:async(u,b,C)=>{let N=!1,ne=ze.Text;C!==void 0&&(le.boolean(C)?N=C:(N=C.sendNotification||!1,ne=C.traceFormat||ze.Text)),h=u,D=ne,h===ee.Off?x=void 0:x=b,N&&!jt()&&!ut()&&await dt.sendNotification(fs.type,{value:ee.toString(u)})},onError:te.event,onClose:be.event,onUnhandledNotification:re.event,onDispose:Rt.event,end:()=>{e.end()},dispose:()=>{if(ut())return;B=$e.Disposed,Rt.fire(void 0);let u=new F.ResponseError(F.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let b of G.values())b.reject(u);G=new Map,p=new Map,L=new Set,J=new ls.LinkedMap,le.func(e.dispose)&&e.dispose(),le.func(t.dispose)&&t.dispose()},listen:()=>{wt(),Kr(),B=$e.Listening,t.listen(Lr)},inspect:()=>{(0,us.default)().console.log("inspect")}};return dt.onNotification($i.type,u=>{if(h===ee.Off||!x)return;let b=h===ee.Verbose||h===ee.Compact;x.log(u.message,b?u.verbose:void 0)}),dt.onNotification(dn.type,u=>{let b=I.get(u.token);b?b(u.value):Dt.fire(u)}),dt}O.createMessageConnection=Vc});var Un=E(v=>{"use strict";Object.defineProperty(v,"__esModule",{value:!0});v.ProgressType=v.ProgressToken=v.createMessageConnection=v.NullLogger=v.ConnectionOptions=v.ConnectionStrategy=v.AbstractMessageBuffer=v.WriteableStreamMessageWriter=v.AbstractMessageWriter=v.MessageWriter=v.ReadableStreamMessageReader=v.AbstractMessageReader=v.MessageReader=v.SharedArrayReceiverStrategy=v.SharedArraySenderStrategy=v.CancellationToken=v.CancellationTokenSource=v.Emitter=v.Event=v.Disposable=v.LRUCache=v.Touch=v.LinkedMap=v.ParameterStructures=v.NotificationType9=v.NotificationType8=v.NotificationType7=v.NotificationType6=v.NotificationType5=v.NotificationType4=v.NotificationType3=v.NotificationType2=v.NotificationType1=v.NotificationType0=v.NotificationType=v.ErrorCodes=v.ResponseError=v.RequestType9=v.RequestType8=v.RequestType7=v.RequestType6=v.RequestType5=v.RequestType4=v.RequestType3=v.RequestType2=v.RequestType1=v.RequestType0=v.RequestType=v.Message=v.RAL=void 0;v.MessageStrategy=v.CancellationStrategy=v.CancellationSenderStrategy=v.CancellationReceiverStrategy=v.ConnectionError=v.ConnectionErrors=v.LogTraceNotification=v.SetTraceNotification=v.TraceFormat=v.TraceValues=v.Trace=void 0;var se=yi();Object.defineProperty(v,"Message",{enumerable:!0,get:function(){return se.Message}});Object.defineProperty(v,"RequestType",{enumerable:!0,get:function(){return se.RequestType}});Object.defineProperty(v,"RequestType0",{enumerable:!0,get:function(){return se.RequestType0}});Object.defineProperty(v,"RequestType1",{enumerable:!0,get:function(){return se.RequestType1}});Object.defineProperty(v,"RequestType2",{enumerable:!0,get:function(){return se.RequestType2}});Object.defineProperty(v,"RequestType3",{enumerable:!0,get:function(){return se.RequestType3}});Object.defineProperty(v,"RequestType4",{enumerable:!0,get:function(){return se.RequestType4}});Object.defineProperty(v,"RequestType5",{enumerable:!0,get:function(){return se.RequestType5}});Object.defineProperty(v,"RequestType6",{enumerable:!0,get:function(){return se.RequestType6}});Object.defineProperty(v,"RequestType7",{enumerable:!0,get:function(){return se.RequestType7}});Object.defineProperty(v,"RequestType8",{enumerable:!0,get:function(){return se.RequestType8}});Object.defineProperty(v,"RequestType9",{enumerable:!0,get:function(){return se.RequestType9}});Object.defineProperty(v,"ResponseError",{enumerable:!0,get:function(){return se.ResponseError}});Object.defineProperty(v,"ErrorCodes",{enumerable:!0,get:function(){return se.ErrorCodes}});Object.defineProperty(v,"NotificationType",{enumerable:!0,get:function(){return se.NotificationType}});Object.defineProperty(v,"NotificationType0",{enumerable:!0,get:function(){return se.NotificationType0}});Object.defineProperty(v,"NotificationType1",{enumerable:!0,get:function(){return se.NotificationType1}});Object.defineProperty(v,"NotificationType2",{enumerable:!0,get:function(){return se.NotificationType2}});Object.defineProperty(v,"NotificationType3",{enumerable:!0,get:function(){return se.NotificationType3}});Object.defineProperty(v,"NotificationType4",{enumerable:!0,get:function(){return se.NotificationType4}});Object.defineProperty(v,"NotificationType5",{enumerable:!0,get:function(){return se.NotificationType5}});Object.defineProperty(v,"NotificationType6",{enumerable:!0,get:function(){return se.NotificationType6}});Object.defineProperty(v,"NotificationType7",{enumerable:!0,get:function(){return se.NotificationType7}});Object.defineProperty(v,"NotificationType8",{enumerable:!0,get:function(){return se.NotificationType8}});Object.defineProperty(v,"NotificationType9",{enumerable:!0,get:function(){return se.NotificationType9}});Object.defineProperty(v,"ParameterStructures",{enumerable:!0,get:function(){return se.ParameterStructures}});var Gi=bi();Object.defineProperty(v,"LinkedMap",{enumerable:!0,get:function(){return Gi.LinkedMap}});Object.defineProperty(v,"LRUCache",{enumerable:!0,get:function(){return Gi.LRUCache}});Object.defineProperty(v,"Touch",{enumerable:!0,get:function(){return Gi.Touch}});var Uc=ts();Object.defineProperty(v,"Disposable",{enumerable:!0,get:function(){return Uc.Disposable}});var ps=Wt();Object.defineProperty(v,"Event",{enumerable:!0,get:function(){return ps.Event}});Object.defineProperty(v,"Emitter",{enumerable:!0,get:function(){return ps.Emitter}});var ys=Wn();Object.defineProperty(v,"CancellationTokenSource",{enumerable:!0,get:function(){return ys.CancellationTokenSource}});Object.defineProperty(v,"CancellationToken",{enumerable:!0,get:function(){return ys.CancellationToken}});var vs=ns();Object.defineProperty(v,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return vs.SharedArraySenderStrategy}});Object.defineProperty(v,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return vs.SharedArrayReceiverStrategy}});var Xi=rs();Object.defineProperty(v,"MessageReader",{enumerable:!0,get:function(){return Xi.MessageReader}});Object.defineProperty(v,"AbstractMessageReader",{enumerable:!0,get:function(){return Xi.AbstractMessageReader}});Object.defineProperty(v,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return Xi.ReadableStreamMessageReader}});var Qi=as();Object.defineProperty(v,"MessageWriter",{enumerable:!0,get:function(){return Qi.MessageWriter}});Object.defineProperty(v,"AbstractMessageWriter",{enumerable:!0,get:function(){return Qi.AbstractMessageWriter}});Object.defineProperty(v,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return Qi.WriteableStreamMessageWriter}});var Kc=cs();Object.defineProperty(v,"AbstractMessageBuffer",{enumerable:!0,get:function(){return Kc.AbstractMessageBuffer}});var Re=ms();Object.defineProperty(v,"ConnectionStrategy",{enumerable:!0,get:function(){return Re.ConnectionStrategy}});Object.defineProperty(v,"ConnectionOptions",{enumerable:!0,get:function(){return Re.ConnectionOptions}});Object.defineProperty(v,"NullLogger",{enumerable:!0,get:function(){return Re.NullLogger}});Object.defineProperty(v,"createMessageConnection",{enumerable:!0,get:function(){return Re.createMessageConnection}});Object.defineProperty(v,"ProgressToken",{enumerable:!0,get:function(){return Re.ProgressToken}});Object.defineProperty(v,"ProgressType",{enumerable:!0,get:function(){return Re.ProgressType}});Object.defineProperty(v,"Trace",{enumerable:!0,get:function(){return Re.Trace}});Object.defineProperty(v,"TraceValues",{enumerable:!0,get:function(){return Re.TraceValues}});Object.defineProperty(v,"TraceFormat",{enumerable:!0,get:function(){return Re.TraceFormat}});Object.defineProperty(v,"SetTraceNotification",{enumerable:!0,get:function(){return Re.SetTraceNotification}});Object.defineProperty(v,"LogTraceNotification",{enumerable:!0,get:function(){return Re.LogTraceNotification}});Object.defineProperty(v,"ConnectionErrors",{enumerable:!0,get:function(){return Re.ConnectionErrors}});Object.defineProperty(v,"ConnectionError",{enumerable:!0,get:function(){return Re.ConnectionError}});Object.defineProperty(v,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return Re.CancellationReceiverStrategy}});Object.defineProperty(v,"CancellationSenderStrategy",{enumerable:!0,get:function(){return Re.CancellationSenderStrategy}});Object.defineProperty(v,"CancellationStrategy",{enumerable:!0,get:function(){return Re.CancellationStrategy}});Object.defineProperty(v,"MessageStrategy",{enumerable:!0,get:function(){return Re.MessageStrategy}});var Jc=ft();v.RAL=Jc.default});var Ds=E(to=>{"use strict";Object.defineProperty(to,"__esModule",{value:!0});var bs=require("util"),at=Un(),$t=class extends at.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return $t.emptyBuffer}fromString(e,n){return Buffer.from(e,n)}toString(e,n){return e instanceof Buffer?e.toString(n):new bs.TextDecoder(n).decode(e)}asNative(e,n){return n===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,n):Buffer.from(e,0,n)}allocNative(e){return Buffer.allocUnsafe(e)}};$t.emptyBuffer=Buffer.allocUnsafe(0);var Yi=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),at.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),at.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),at.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),at.Disposable.create(()=>this.stream.off("data",e))}},Zi=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),at.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),at.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),at.Disposable.create(()=>this.stream.off("end",e))}write(e,n){return new Promise((r,i)=>{let l=y=>{y==null?r():i(y)};typeof e=="string"?this.stream.write(e,n,l):this.stream.write(e,l)})}end(){this.stream.end()}},_s=Object.freeze({messageBuffer:Object.freeze({create:t=>new $t(t)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(t,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(t,void 0,0),e.charset))}catch(n){return Promise.reject(n)}}}),decoder:Object.freeze({name:"application/json",decode:(t,e)=>{try{return t instanceof Buffer?Promise.resolve(JSON.parse(t.toString(e.charset))):Promise.resolve(JSON.parse(new bs.TextDecoder(e.charset).decode(t)))}catch(n){return Promise.reject(n)}}})}),stream:Object.freeze({asReadableStream:t=>new Yi(t),asWritableStream:t=>new Zi(t)}),console,timer:Object.freeze({setTimeout(t,e,...n){let r=setTimeout(t,e,...n);return{dispose:()=>clearTimeout(r)}},setImmediate(t,...e){let n=setImmediate(t,...e);return{dispose:()=>clearImmediate(n)}},setInterval(t,e,...n){let r=setInterval(t,e,...n);return{dispose:()=>clearInterval(r)}}})});function eo(){return _s}(function(t){function e(){at.RAL.install(_s)}t.install=e})(eo||(eo={}));to.default=eo});var St=E(K=>{"use strict";var Gc=K&&K.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Xc=K&&K.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Gc(e,t,n)};Object.defineProperty(K,"__esModule",{value:!0});K.createMessageConnection=K.createServerSocketTransport=K.createClientSocketTransport=K.createServerPipeTransport=K.createClientPipeTransport=K.generateRandomPipeName=K.StreamMessageWriter=K.StreamMessageReader=K.SocketMessageWriter=K.SocketMessageReader=K.PortMessageWriter=K.PortMessageReader=K.IPCMessageWriter=K.IPCMessageReader=void 0;var Bt=Ds();Bt.default.install();var Rs=require("path"),Qc=require("os"),Yc=require("crypto"),Gn=require("net"),Me=Un();Xc(Un(),K);var no=class extends Me.AbstractMessageReader{constructor(e){super(),this.process=e;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),Me.Disposable.create(()=>this.process.off("message",e))}};K.IPCMessageReader=no;var ro=class extends Me.AbstractMessageWriter{constructor(e){super(),this.process=e,this.errorCount=0;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,n=>{n?(this.errorCount++,this.handleError(n,e)):this.errorCount=0}),Promise.resolve()}catch(n){return this.handleError(n,e),Promise.reject(n)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){}};K.IPCMessageWriter=ro;var io=class extends Me.AbstractMessageReader{constructor(e){super(),this.onData=new Me.Emitter,e.on("close",()=>this.fireClose),e.on("error",n=>this.fireError(n)),e.on("message",n=>{this.onData.fire(n)})}listen(e){return this.onData.event(e)}};K.PortMessageReader=io;var oo=class extends Me.AbstractMessageWriter{constructor(e){super(),this.port=e,this.errorCount=0,e.on("close",()=>this.fireClose()),e.on("error",n=>this.fireError(n))}write(e){try{return this.port.postMessage(e),Promise.resolve()}catch(n){return this.handleError(n,e),Promise.reject(n)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){}};K.PortMessageWriter=oo;var Ct=class extends Me.ReadableStreamMessageReader{constructor(e,n="utf-8"){super((0,Bt.default)().stream.asReadableStream(e),n)}};K.SocketMessageReader=Ct;var qt=class extends Me.WriteableStreamMessageWriter{constructor(e,n){super((0,Bt.default)().stream.asWritableStream(e),n),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};K.SocketMessageWriter=qt;var Kn=class extends Me.ReadableStreamMessageReader{constructor(e,n){super((0,Bt.default)().stream.asReadableStream(e),n)}};K.StreamMessageReader=Kn;var Jn=class extends Me.WriteableStreamMessageWriter{constructor(e,n){super((0,Bt.default)().stream.asWritableStream(e),n)}};K.StreamMessageWriter=Jn;var ws=process.env.XDG_RUNTIME_DIR,Zc=new Map([["linux",107],["darwin",103]]);function eu(){let t=(0,Yc.randomBytes)(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${t}-sock`;let e;ws?e=Rs.join(ws,`vscode-ipc-${t}.sock`):e=Rs.join(Qc.tmpdir(),`vscode-${t}.sock`);let n=Zc.get(process.platform);return n!==void 0&&e.length>n&&(0,Bt.default)().console.warn(`WARNING: IPC handle "${e}" is longer than ${n} characters.`),e}K.generateRandomPipeName=eu;function tu(t,e="utf-8"){let n,r=new Promise((i,l)=>{n=i});return new Promise((i,l)=>{let y=(0,Gn.createServer)(R=>{y.close(),n([new Ct(R,e),new qt(R,e)])});y.on("error",l),y.listen(t,()=>{y.removeListener("error",l),i({onConnected:()=>r})})})}K.createClientPipeTransport=tu;function nu(t,e="utf-8"){let n=(0,Gn.createConnection)(t);return[new Ct(n,e),new qt(n,e)]}K.createServerPipeTransport=nu;function ru(t,e="utf-8"){let n,r=new Promise((i,l)=>{n=i});return new Promise((i,l)=>{let y=(0,Gn.createServer)(R=>{y.close(),n([new Ct(R,e),new qt(R,e)])});y.on("error",l),y.listen(t,"127.0.0.1",()=>{y.removeListener("error",l),i({onConnected:()=>r})})})}K.createClientSocketTransport=ru;function iu(t,e="utf-8"){let n=(0,Gn.createConnection)(t,"127.0.0.1");return[new Ct(n,e),new qt(n,e)]}K.createServerSocketTransport=iu;function ou(t){let e=t;return e.read!==void 0&&e.addListener!==void 0}function su(t){let e=t;return e.write!==void 0&&e.addListener!==void 0}function au(t,e,n,r){n||(n=Me.NullLogger);let i=ou(t)?new Kn(t):t,l=su(e)?new Jn(e):e;return Me.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),(0,Me.createMessageConnection)(i,l,n,r)}K.createMessageConnection=au});var so=E((uh,Ts)=>{"use strict";Ts.exports=St()});var Qn=E((Ps,Xn)=>{(function(t){if(typeof Xn=="object"&&typeof Xn.exports=="object"){var e=t(require,Ps);e!==void 0&&(Xn.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],t)})(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocument=e.EOL=e.WorkspaceFolder=e.InlayHint=e.InlayHintLabelPart=e.InlayHintKind=e.InlineValueContext=e.InlineValueEvaluatableExpression=e.InlineValueVariableLookup=e.InlineValueText=e.SemanticTokens=e.SemanticTokenModifiers=e.SemanticTokenTypes=e.SelectionRange=e.DocumentLink=e.FormattingOptions=e.CodeLens=e.CodeAction=e.CodeActionContext=e.CodeActionTriggerKind=e.CodeActionKind=e.DocumentSymbol=e.WorkspaceSymbol=e.SymbolInformation=e.SymbolTag=e.SymbolKind=e.DocumentHighlight=e.DocumentHighlightKind=e.SignatureInformation=e.ParameterInformation=e.Hover=e.MarkedString=e.CompletionList=e.CompletionItem=e.CompletionItemLabelDetails=e.InsertTextMode=e.InsertReplaceEdit=e.CompletionItemTag=e.InsertTextFormat=e.CompletionItemKind=e.MarkupContent=e.MarkupKind=e.TextDocumentItem=e.OptionalVersionedTextDocumentIdentifier=e.VersionedTextDocumentIdentifier=e.TextDocumentIdentifier=e.WorkspaceChange=e.WorkspaceEdit=e.DeleteFile=e.RenameFile=e.CreateFile=e.TextDocumentEdit=e.AnnotatedTextEdit=e.ChangeAnnotationIdentifier=e.ChangeAnnotation=e.TextEdit=e.Command=e.Diagnostic=e.CodeDescription=e.DiagnosticTag=e.DiagnosticSeverity=e.DiagnosticRelatedInformation=e.FoldingRange=e.FoldingRangeKind=e.ColorPresentation=e.ColorInformation=e.Color=e.LocationLink=e.Location=e.Range=e.Position=e.uinteger=e.integer=e.URI=e.DocumentUri=void 0;var n;(function(s){function d(f){return typeof f=="string"}s.is=d})(n=e.DocumentUri||(e.DocumentUri={}));var r;(function(s){function d(f){return typeof f=="string"}s.is=d})(r=e.URI||(e.URI={}));var i;(function(s){s.MIN_VALUE=-2147483648,s.MAX_VALUE=2147483647;function d(f){return typeof f=="number"&&s.MIN_VALUE<=f&&f<=s.MAX_VALUE}s.is=d})(i=e.integer||(e.integer={}));var l;(function(s){s.MIN_VALUE=0,s.MAX_VALUE=2147483647;function d(f){return typeof f=="number"&&s.MIN_VALUE<=f&&f<=s.MAX_VALUE}s.is=d})(l=e.uinteger||(e.uinteger={}));var y;(function(s){function d(c,o){return c===Number.MAX_VALUE&&(c=l.MAX_VALUE),o===Number.MAX_VALUE&&(o=l.MAX_VALUE),{line:c,character:o}}s.create=d;function f(c){var o=c;return g.objectLiteral(o)&&g.uinteger(o.line)&&g.uinteger(o.character)}s.is=f})(y=e.Position||(e.Position={}));var R;(function(s){function d(c,o,m,_){if(g.uinteger(c)&&g.uinteger(o)&&g.uinteger(m)&&g.uinteger(_))return{start:y.create(c,o),end:y.create(m,_)};if(y.is(c)&&y.is(o))return{start:c,end:o};throw new Error("Range#create called with invalid arguments[".concat(c,", ").concat(o,", ").concat(m,", ").concat(_,"]"))}s.create=d;function f(c){var o=c;return g.objectLiteral(o)&&y.is(o.start)&&y.is(o.end)}s.is=f})(R=e.Range||(e.Range={}));var P;(function(s){function d(c,o){return{uri:c,range:o}}s.create=d;function f(c){var o=c;return g.objectLiteral(o)&&R.is(o.range)&&(g.string(o.uri)||g.undefined(o.uri))}s.is=f})(P=e.Location||(e.Location={}));var w;(function(s){function d(c,o,m,_){return{targetUri:c,targetRange:o,targetSelectionRange:m,originSelectionRange:_}}s.create=d;function f(c){var o=c;return g.objectLiteral(o)&&R.is(o.targetRange)&&g.string(o.targetUri)&&R.is(o.targetSelectionRange)&&(R.is(o.originSelectionRange)||g.undefined(o.originSelectionRange))}s.is=f})(w=e.LocationLink||(e.LocationLink={}));var T;(function(s){function d(c,o,m,_){return{red:c,green:o,blue:m,alpha:_}}s.create=d;function f(c){var o=c;return g.objectLiteral(o)&&g.numberRange(o.red,0,1)&&g.numberRange(o.green,0,1)&&g.numberRange(o.blue,0,1)&&g.numberRange(o.alpha,0,1)}s.is=f})(T=e.Color||(e.Color={}));var M;(function(s){function d(c,o){return{range:c,color:o}}s.create=d;function f(c){var o=c;return g.objectLiteral(o)&&R.is(o.range)&&T.is(o.color)}s.is=f})(M=e.ColorInformation||(e.ColorInformation={}));var S;(function(s){function d(c,o,m){return{label:c,textEdit:o,additionalTextEdits:m}}s.create=d;function f(c){var o=c;return g.objectLiteral(o)&&g.string(o.label)&&(g.undefined(o.textEdit)||x.is(o))&&(g.undefined(o.additionalTextEdits)||g.typedArray(o.additionalTextEdits,x.is))}s.is=f})(S=e.ColorPresentation||(e.ColorPresentation={}));var I;(function(s){s.Comment="comment",s.Imports="imports",s.Region="region"})(I=e.FoldingRangeKind||(e.FoldingRangeKind={}));var z;(function(s){function d(c,o,m,_,H,he){var oe={startLine:c,endLine:o};return g.defined(m)&&(oe.startCharacter=m),g.defined(_)&&(oe.endCharacter=_),g.defined(H)&&(oe.kind=H),g.defined(he)&&(oe.collapsedText=he),oe}s.create=d;function f(c){var o=c;return g.objectLiteral(o)&&g.uinteger(o.startLine)&&g.uinteger(o.startLine)&&(g.undefined(o.startCharacter)||g.uinteger(o.startCharacter))&&(g.undefined(o.endCharacter)||g.uinteger(o.endCharacter))&&(g.undefined(o.kind)||g.string(o.kind))}s.is=f})(z=e.FoldingRange||(e.FoldingRange={}));var J;(function(s){function d(c,o){return{location:c,message:o}}s.create=d;function f(c){var o=c;return g.defined(o)&&P.is(o.location)&&g.string(o.message)}s.is=f})(J=e.DiagnosticRelatedInformation||(e.DiagnosticRelatedInformation={}));var G;(function(s){s.Error=1,s.Warning=2,s.Information=3,s.Hint=4})(G=e.DiagnosticSeverity||(e.DiagnosticSeverity={}));var L;(function(s){s.Unnecessary=1,s.Deprecated=2})(L=e.DiagnosticTag||(e.DiagnosticTag={}));var p;(function(s){function d(f){var c=f;return g.objectLiteral(c)&&g.string(c.href)}s.is=d})(p=e.CodeDescription||(e.CodeDescription={}));var h;(function(s){function d(c,o,m,_,H,he){var oe={range:c,message:o};return g.defined(m)&&(oe.severity=m),g.defined(_)&&(oe.code=_),g.defined(H)&&(oe.source=H),g.defined(he)&&(oe.relatedInformation=he),oe}s.create=d;function f(c){var o,m=c;return g.defined(m)&&R.is(m.range)&&g.string(m.message)&&(g.number(m.severity)||g.undefined(m.severity))&&(g.integer(m.code)||g.string(m.code)||g.undefined(m.code))&&(g.undefined(m.codeDescription)||g.string((o=m.codeDescription)===null||o===void 0?void 0:o.href))&&(g.string(m.source)||g.undefined(m.source))&&(g.undefined(m.relatedInformation)||g.typedArray(m.relatedInformation,J.is))}s.is=f})(h=e.Diagnostic||(e.Diagnostic={}));var D;(function(s){function d(c,o){for(var m=[],_=2;_<arguments.length;_++)m[_-2]=arguments[_];var H={title:c,command:o};return g.defined(m)&&m.length>0&&(H.arguments=m),H}s.create=d;function f(c){var o=c;return g.defined(o)&&g.string(o.title)&&g.string(o.command)}s.is=f})(D=e.Command||(e.Command={}));var x;(function(s){function d(m,_){return{range:m,newText:_}}s.replace=d;function f(m,_){return{range:{start:m,end:m},newText:_}}s.insert=f;function c(m){return{range:m,newText:""}}s.del=c;function o(m){var _=m;return g.objectLiteral(_)&&g.string(_.newText)&&R.is(_.range)}s.is=o})(x=e.TextEdit||(e.TextEdit={}));var B;(function(s){function d(c,o,m){var _={label:c};return o!==void 0&&(_.needsConfirmation=o),m!==void 0&&(_.description=m),_}s.create=d;function f(c){var o=c;return g.objectLiteral(o)&&g.string(o.label)&&(g.boolean(o.needsConfirmation)||o.needsConfirmation===void 0)&&(g.string(o.description)||o.description===void 0)}s.is=f})(B=e.ChangeAnnotation||(e.ChangeAnnotation={}));var te;(function(s){function d(f){var c=f;return g.string(c)}s.is=d})(te=e.ChangeAnnotationIdentifier||(e.ChangeAnnotationIdentifier={}));var be;(function(s){function d(m,_,H){return{range:m,newText:_,annotationId:H}}s.replace=d;function f(m,_,H){return{range:{start:m,end:m},newText:_,annotationId:H}}s.insert=f;function c(m,_){return{range:m,newText:"",annotationId:_}}s.del=c;function o(m){var _=m;return x.is(_)&&(B.is(_.annotationId)||te.is(_.annotationId))}s.is=o})(be=e.AnnotatedTextEdit||(e.AnnotatedTextEdit={}));var re;(function(s){function d(c,o){return{textDocument:c,edits:o}}s.create=d;function f(c){var o=c;return g.defined(o)&&jt.is(o.textDocument)&&Array.isArray(o.edits)}s.is=f})(re=e.TextDocumentEdit||(e.TextDocumentEdit={}));var Dt;(function(s){function d(c,o,m){var _={kind:"create",uri:c};return o!==void 0&&(o.overwrite!==void 0||o.ignoreIfExists!==void 0)&&(_.options=o),m!==void 0&&(_.annotationId=m),_}s.create=d;function f(c){var o=c;return o&&o.kind==="create"&&g.string(o.uri)&&(o.options===void 0||(o.options.overwrite===void 0||g.boolean(o.options.overwrite))&&(o.options.ignoreIfExists===void 0||g.boolean(o.options.ignoreIfExists)))&&(o.annotationId===void 0||te.is(o.annotationId))}s.is=f})(Dt=e.CreateFile||(e.CreateFile={}));var Rt;(function(s){function d(c,o,m,_){var H={kind:"rename",oldUri:c,newUri:o};return m!==void 0&&(m.overwrite!==void 0||m.ignoreIfExists!==void 0)&&(H.options=m),_!==void 0&&(H.annotationId=_),H}s.create=d;function f(c){var o=c;return o&&o.kind==="rename"&&g.string(o.oldUri)&&g.string(o.newUri)&&(o.options===void 0||(o.options.overwrite===void 0||g.boolean(o.options.overwrite))&&(o.options.ignoreIfExists===void 0||g.boolean(o.options.ignoreIfExists)))&&(o.annotationId===void 0||te.is(o.annotationId))}s.is=f})(Rt=e.RenameFile||(e.RenameFile={}));var Ne;(function(s){function d(c,o,m){var _={kind:"delete",uri:c};return o!==void 0&&(o.recursive!==void 0||o.ignoreIfNotExists!==void 0)&&(_.options=o),m!==void 0&&(_.annotationId=m),_}s.create=d;function f(c){var o=c;return o&&o.kind==="delete"&&g.string(o.uri)&&(o.options===void 0||(o.options.recursive===void 0||g.boolean(o.options.recursive))&&(o.options.ignoreIfNotExists===void 0||g.boolean(o.options.ignoreIfNotExists)))&&(o.annotationId===void 0||te.is(o.annotationId))}s.is=f})(Ne=e.DeleteFile||(e.DeleteFile={}));var en;(function(s){function d(f){var c=f;return c&&(c.changes!==void 0||c.documentChanges!==void 0)&&(c.documentChanges===void 0||c.documentChanges.every(function(o){return g.string(o.kind)?Dt.is(o)||Rt.is(o)||Ne.is(o):re.is(o)}))}s.is=d})(en=e.WorkspaceEdit||(e.WorkspaceEdit={}));var Ot=function(){function s(d,f){this.edits=d,this.changeAnnotations=f}return s.prototype.insert=function(d,f,c){var o,m;if(c===void 0?o=x.insert(d,f):te.is(c)?(m=c,o=be.insert(d,f,c)):(this.assertChangeAnnotations(this.changeAnnotations),m=this.changeAnnotations.manage(c),o=be.insert(d,f,m)),this.edits.push(o),m!==void 0)return m},s.prototype.replace=function(d,f,c){var o,m;if(c===void 0?o=x.replace(d,f):te.is(c)?(m=c,o=be.replace(d,f,c)):(this.assertChangeAnnotations(this.changeAnnotations),m=this.changeAnnotations.manage(c),o=be.replace(d,f,m)),this.edits.push(o),m!==void 0)return m},s.prototype.delete=function(d,f){var c,o;if(f===void 0?c=x.del(d):te.is(f)?(o=f,c=be.del(d,f)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(f),c=be.del(d,o)),this.edits.push(c),o!==void 0)return o},s.prototype.add=function(d){this.edits.push(d)},s.prototype.all=function(){return this.edits},s.prototype.clear=function(){this.edits.splice(0,this.edits.length)},s.prototype.assertChangeAnnotations=function(d){if(d===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},s}(),Sn=function(){function s(d){this._annotations=d===void 0?Object.create(null):d,this._counter=0,this._size=0}return s.prototype.all=function(){return this._annotations},Object.defineProperty(s.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),s.prototype.manage=function(d,f){var c;if(te.is(d)?c=d:(c=this.nextId(),f=d),this._annotations[c]!==void 0)throw new Error("Id ".concat(c," is already in use."));if(f===void 0)throw new Error("No annotation provided for id ".concat(c));return this._annotations[c]=f,this._size++,c},s.prototype.nextId=function(){return this._counter++,this._counter.toString()},s}(),xr=function(){function s(d){var f=this;this._textEditChanges=Object.create(null),d!==void 0?(this._workspaceEdit=d,d.documentChanges?(this._changeAnnotations=new Sn(d.changeAnnotations),d.changeAnnotations=this._changeAnnotations.all(),d.documentChanges.forEach(function(c){if(re.is(c)){var o=new Ot(c.edits,f._changeAnnotations);f._textEditChanges[c.textDocument.uri]=o}})):d.changes&&Object.keys(d.changes).forEach(function(c){var o=new Ot(d.changes[c]);f._textEditChanges[c]=o})):this._workspaceEdit={}}return Object.defineProperty(s.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),s.prototype.getTextEditChange=function(d){if(jt.is(d)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var f={uri:d.uri,version:d.version},c=this._textEditChanges[f.uri];if(!c){var o=[],m={textDocument:f,edits:o};this._workspaceEdit.documentChanges.push(m),c=new Ot(o,this._changeAnnotations),this._textEditChanges[f.uri]=c}return c}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var c=this._textEditChanges[d];if(!c){var o=[];this._workspaceEdit.changes[d]=o,c=new Ot(o),this._textEditChanges[d]=c}return c}},s.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new Sn,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},s.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},s.prototype.createFile=function(d,f,c){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var o;B.is(f)||te.is(f)?o=f:c=f;var m,_;if(o===void 0?m=Dt.create(d,c):(_=te.is(o)?o:this._changeAnnotations.manage(o),m=Dt.create(d,c,_)),this._workspaceEdit.documentChanges.push(m),_!==void 0)return _},s.prototype.renameFile=function(d,f,c,o){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var m;B.is(c)||te.is(c)?m=c:o=c;var _,H;if(m===void 0?_=Rt.create(d,f,o):(H=te.is(m)?m:this._changeAnnotations.manage(m),_=Rt.create(d,f,o,H)),this._workspaceEdit.documentChanges.push(_),H!==void 0)return H},s.prototype.deleteFile=function(d,f,c){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var o;B.is(f)||te.is(f)?o=f:c=f;var m,_;if(o===void 0?m=Ne.create(d,c):(_=te.is(o)?o:this._changeAnnotations.manage(o),m=Ne.create(d,c,_)),this._workspaceEdit.documentChanges.push(m),_!==void 0)return _},s}();e.WorkspaceChange=xr;var Fr;(function(s){function d(c){return{uri:c}}s.create=d;function f(c){var o=c;return g.defined(o)&&g.string(o.uri)}s.is=f})(Fr=e.TextDocumentIdentifier||(e.TextDocumentIdentifier={}));var En;(function(s){function d(c,o){return{uri:c,version:o}}s.create=d;function f(c){var o=c;return g.defined(o)&&g.string(o.uri)&&g.integer(o.version)}s.is=f})(En=e.VersionedTextDocumentIdentifier||(e.VersionedTextDocumentIdentifier={}));var jt;(function(s){function d(c,o){return{uri:c,version:o}}s.create=d;function f(c){var o=c;return g.defined(o)&&g.string(o.uri)&&(o.version===null||g.integer(o.version))}s.is=f})(jt=e.OptionalVersionedTextDocumentIdentifier||(e.OptionalVersionedTextDocumentIdentifier={}));var ut;(function(s){function d(c,o,m,_){return{uri:c,languageId:o,version:m,text:_}}s.create=d;function f(c){var o=c;return g.defined(o)&&g.string(o.uri)&&g.string(o.languageId)&&g.integer(o.version)&&g.string(o.text)}s.is=f})(ut=e.TextDocumentItem||(e.TextDocumentItem={}));var tn;(function(s){s.PlainText="plaintext",s.Markdown="markdown";function d(f){var c=f;return c===s.PlainText||c===s.Markdown}s.is=d})(tn=e.MarkupKind||(e.MarkupKind={}));var xt;(function(s){function d(f){var c=f;return g.objectLiteral(f)&&tn.is(c.kind)&&g.string(c.value)}s.is=d})(xt=e.MarkupContent||(e.MarkupContent={}));var Ir;(function(s){s.Text=1,s.Method=2,s.Function=3,s.Constructor=4,s.Field=5,s.Variable=6,s.Class=7,s.Interface=8,s.Module=9,s.Property=10,s.Unit=11,s.Value=12,s.Enum=13,s.Keyword=14,s.Snippet=15,s.Color=16,s.File=17,s.Reference=18,s.Folder=19,s.EnumMember=20,s.Constant=21,s.Struct=22,s.Event=23,s.Operator=24,s.TypeParameter=25})(Ir=e.CompletionItemKind||(e.CompletionItemKind={}));var Nn;(function(s){s.PlainText=1,s.Snippet=2})(Nn=e.InsertTextFormat||(e.InsertTextFormat={}));var Mn;(function(s){s.Deprecated=1})(Mn=e.CompletionItemTag||(e.CompletionItemTag={}));var Ar;(function(s){function d(c,o,m){return{newText:c,insert:o,replace:m}}s.create=d;function f(c){var o=c;return o&&g.string(o.newText)&&R.is(o.insert)&&R.is(o.replace)}s.is=f})(Ar=e.InsertReplaceEdit||(e.InsertReplaceEdit={}));var Lr;(function(s){s.asIs=1,s.adjustIndentation=2})(Lr=e.InsertTextMode||(e.InsertTextMode={}));var Wr;(function(s){function d(f){var c=f;return c&&(g.string(c.detail)||c.detail===void 0)&&(g.string(c.description)||c.description===void 0)}s.is=d})(Wr=e.CompletionItemLabelDetails||(e.CompletionItemLabelDetails={}));var Hr;(function(s){function d(f){return{label:f}}s.create=d})(Hr=e.CompletionItem||(e.CompletionItem={}));var zr;(function(s){function d(f,c){return{items:f||[],isIncomplete:!!c}}s.create=d})(zr=e.CompletionList||(e.CompletionList={}));var nn;(function(s){function d(c){return c.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}s.fromPlainText=d;function f(c){var o=c;return g.string(o)||g.objectLiteral(o)&&g.string(o.language)&&g.string(o.value)}s.is=f})(nn=e.MarkedString||(e.MarkedString={}));var Qe;(function(s){function d(f){var c=f;return!!c&&g.objectLiteral(c)&&(xt.is(c.contents)||nn.is(c.contents)||g.typedArray(c.contents,nn.is))&&(f.range===void 0||R.is(f.range))}s.is=d})(Qe=e.Hover||(e.Hover={}));var $r;(function(s){function d(f,c){return c?{label:f,documentation:c}:{label:f}}s.create=d})($r=e.ParameterInformation||(e.ParameterInformation={}));var Br;(function(s){function d(f,c){for(var o=[],m=2;m<arguments.length;m++)o[m-2]=arguments[m];var _={label:f};return g.defined(c)&&(_.documentation=c),g.defined(o)?_.parameters=o:_.parameters=[],_}s.create=d})(Br=e.SignatureInformation||(e.SignatureInformation={}));var Ft;(function(s){s.Text=1,s.Read=2,s.Write=3})(Ft=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));var Vr;(function(s){function d(f,c){var o={range:f};return g.number(c)&&(o.kind=c),o}s.create=d})(Vr=e.DocumentHighlight||(e.DocumentHighlight={}));var rn;(function(s){s.File=1,s.Module=2,s.Namespace=3,s.Package=4,s.Class=5,s.Method=6,s.Property=7,s.Field=8,s.Constructor=9,s.Enum=10,s.Interface=11,s.Function=12,s.Variable=13,s.Constant=14,s.String=15,s.Number=16,s.Boolean=17,s.Array=18,s.Object=19,s.Key=20,s.Null=21,s.EnumMember=22,s.Struct=23,s.Event=24,s.Operator=25,s.TypeParameter=26})(rn=e.SymbolKind||(e.SymbolKind={}));var Ur;(function(s){s.Deprecated=1})(Ur=e.SymbolTag||(e.SymbolTag={}));var lt;(function(s){function d(f,c,o,m,_){var H={name:f,kind:c,location:{uri:m,range:o}};return _&&(H.containerName=_),H}s.create=d})(lt=e.SymbolInformation||(e.SymbolInformation={}));var wt;(function(s){function d(f,c,o,m){return m!==void 0?{name:f,kind:c,location:{uri:o,range:m}}:{name:f,kind:c,location:{uri:o}}}s.create=d})(wt=e.WorkspaceSymbol||(e.WorkspaceSymbol={}));var Kr;(function(s){function d(c,o,m,_,H,he){var oe={name:c,detail:o,kind:m,range:_,selectionRange:H};return he!==void 0&&(oe.children=he),oe}s.create=d;function f(c){var o=c;return o&&g.string(o.name)&&g.number(o.kind)&&R.is(o.range)&&R.is(o.selectionRange)&&(o.detail===void 0||g.string(o.detail))&&(o.deprecated===void 0||g.boolean(o.deprecated))&&(o.children===void 0||Array.isArray(o.children))&&(o.tags===void 0||Array.isArray(o.tags))}s.is=f})(Kr=e.DocumentSymbol||(e.DocumentSymbol={}));var Jr;(function(s){s.Empty="",s.QuickFix="quickfix",s.Refactor="refactor",s.RefactorExtract="refactor.extract",s.RefactorInline="refactor.inline",s.RefactorRewrite="refactor.rewrite",s.Source="source",s.SourceOrganizeImports="source.organizeImports",s.SourceFixAll="source.fixAll"})(Jr=e.CodeActionKind||(e.CodeActionKind={}));var nt;(function(s){s.Invoked=1,s.Automatic=2})(nt=e.CodeActionTriggerKind||(e.CodeActionTriggerKind={}));var On;(function(s){function d(c,o,m){var _={diagnostics:c};return o!=null&&(_.only=o),m!=null&&(_.triggerKind=m),_}s.create=d;function f(c){var o=c;return g.defined(o)&&g.typedArray(o.diagnostics,h.is)&&(o.only===void 0||g.typedArray(o.only,g.string))&&(o.triggerKind===void 0||o.triggerKind===nt.Invoked||o.triggerKind===nt.Automatic)}s.is=f})(On=e.CodeActionContext||(e.CodeActionContext={}));var jn;(function(s){function d(c,o,m){var _={title:c},H=!0;return typeof o=="string"?(H=!1,_.kind=o):D.is(o)?_.command=o:_.edit=o,H&&m!==void 0&&(_.kind=m),_}s.create=d;function f(c){var o=c;return o&&g.string(o.title)&&(o.diagnostics===void 0||g.typedArray(o.diagnostics,h.is))&&(o.kind===void 0||g.string(o.kind))&&(o.edit!==void 0||o.command!==void 0)&&(o.command===void 0||D.is(o.command))&&(o.isPreferred===void 0||g.boolean(o.isPreferred))&&(o.edit===void 0||en.is(o.edit))}s.is=f})(jn=e.CodeAction||(e.CodeAction={}));var on;(function(s){function d(c,o){var m={range:c};return g.defined(o)&&(m.data=o),m}s.create=d;function f(c){var o=c;return g.defined(o)&&R.is(o.range)&&(g.undefined(o.command)||D.is(o.command))}s.is=f})(on=e.CodeLens||(e.CodeLens={}));var xn;(function(s){function d(c,o){return{tabSize:c,insertSpaces:o}}s.create=d;function f(c){var o=c;return g.defined(o)&&g.uinteger(o.tabSize)&&g.boolean(o.insertSpaces)}s.is=f})(xn=e.FormattingOptions||(e.FormattingOptions={}));var dt;(function(s){function d(c,o,m){return{range:c,target:o,data:m}}s.create=d;function f(c){var o=c;return g.defined(o)&&R.is(o.range)&&(g.undefined(o.target)||g.string(o.target))}s.is=f})(dt=e.DocumentLink||(e.DocumentLink={}));var u;(function(s){function d(c,o){return{range:c,parent:o}}s.create=d;function f(c){var o=c;return g.objectLiteral(o)&&R.is(o.range)&&(o.parent===void 0||s.is(o.parent))}s.is=f})(u=e.SelectionRange||(e.SelectionRange={}));var b;(function(s){s.namespace="namespace",s.type="type",s.class="class",s.enum="enum",s.interface="interface",s.struct="struct",s.typeParameter="typeParameter",s.parameter="parameter",s.variable="variable",s.property="property",s.enumMember="enumMember",s.event="event",s.function="function",s.method="method",s.macro="macro",s.keyword="keyword",s.modifier="modifier",s.comment="comment",s.string="string",s.number="number",s.regexp="regexp",s.operator="operator",s.decorator="decorator"})(b=e.SemanticTokenTypes||(e.SemanticTokenTypes={}));var C;(function(s){s.declaration="declaration",s.definition="definition",s.readonly="readonly",s.static="static",s.deprecated="deprecated",s.abstract="abstract",s.async="async",s.modification="modification",s.documentation="documentation",s.defaultLibrary="defaultLibrary"})(C=e.SemanticTokenModifiers||(e.SemanticTokenModifiers={}));var N;(function(s){function d(f){var c=f;return g.objectLiteral(c)&&(c.resultId===void 0||typeof c.resultId=="string")&&Array.isArray(c.data)&&(c.data.length===0||typeof c.data[0]=="number")}s.is=d})(N=e.SemanticTokens||(e.SemanticTokens={}));var ne;(function(s){function d(c,o){return{range:c,text:o}}s.create=d;function f(c){var o=c;return o!=null&&R.is(o.range)&&g.string(o.text)}s.is=f})(ne=e.InlineValueText||(e.InlineValueText={}));var Z;(function(s){function d(c,o,m){return{range:c,variableName:o,caseSensitiveLookup:m}}s.create=d;function f(c){var o=c;return o!=null&&R.is(o.range)&&g.boolean(o.caseSensitiveLookup)&&(g.string(o.variableName)||o.variableName===void 0)}s.is=f})(Z=e.InlineValueVariableLookup||(e.InlineValueVariableLookup={}));var ce;(function(s){function d(c,o){return{range:c,expression:o}}s.create=d;function f(c){var o=c;return o!=null&&R.is(o.range)&&(g.string(o.expression)||o.expression===void 0)}s.is=f})(ce=e.InlineValueEvaluatableExpression||(e.InlineValueEvaluatableExpression={}));var ue;(function(s){function d(c,o){return{frameId:c,stoppedLocation:o}}s.create=d;function f(c){var o=c;return g.defined(o)&&R.is(c.stoppedLocation)}s.is=f})(ue=e.InlineValueContext||(e.InlineValueContext={}));var V;(function(s){s.Type=1,s.Parameter=2;function d(f){return f===1||f===2}s.is=d})(V=e.InlayHintKind||(e.InlayHintKind={}));var ie;(function(s){function d(c){return{value:c}}s.create=d;function f(c){var o=c;return g.objectLiteral(o)&&(o.tooltip===void 0||g.string(o.tooltip)||xt.is(o.tooltip))&&(o.location===void 0||P.is(o.location))&&(o.command===void 0||D.is(o.command))}s.is=f})(ie=e.InlayHintLabelPart||(e.InlayHintLabelPart={}));var Y;(function(s){function d(c,o,m){var _={position:c,label:o};return m!==void 0&&(_.kind=m),_}s.create=d;function f(c){var o=c;return g.objectLiteral(o)&&y.is(o.position)&&(g.string(o.label)||g.typedArray(o.label,ie.is))&&(o.kind===void 0||V.is(o.kind))&&o.textEdits===void 0||g.typedArray(o.textEdits,x.is)&&(o.tooltip===void 0||g.string(o.tooltip)||xt.is(o.tooltip))&&(o.paddingLeft===void 0||g.boolean(o.paddingLeft))&&(o.paddingRight===void 0||g.boolean(o.paddingRight))}s.is=f})(Y=e.InlayHint||(e.InlayHint={}));var ge;(function(s){function d(f){var c=f;return g.objectLiteral(c)&&r.is(c.uri)&&g.string(c.name)}s.is=d})(ge=e.WorkspaceFolder||(e.WorkspaceFolder={})),e.EOL=[`
`,`\r
`,"\r"];var De;(function(s){function d(m,_,H,he){return new xe(m,_,H,he)}s.create=d;function f(m){var _=m;return!!(g.defined(_)&&g.string(_.uri)&&(g.undefined(_.languageId)||g.string(_.languageId))&&g.uinteger(_.lineCount)&&g.func(_.getText)&&g.func(_.positionAt)&&g.func(_.offsetAt))}s.is=f;function c(m,_){for(var H=m.getText(),he=o(_,function(It,Fn){var Vo=It.range.start.line-Fn.range.start.line;return Vo===0?It.range.start.character-Fn.range.start.character:Vo}),oe=H.length,We=he.length-1;We>=0;We--){var He=he[We],rt=m.offsetAt(He.range.start),U=m.offsetAt(He.range.end);if(U<=oe)H=H.substring(0,rt)+He.newText+H.substring(U,H.length);else throw new Error("Overlapping edit");oe=rt}return H}s.applyEdits=c;function o(m,_){if(m.length<=1)return m;var H=m.length/2|0,he=m.slice(0,H),oe=m.slice(H);o(he,_),o(oe,_);for(var We=0,He=0,rt=0;We<he.length&&He<oe.length;){var U=_(he[We],oe[He]);U<=0?m[rt++]=he[We++]:m[rt++]=oe[He++]}for(;We<he.length;)m[rt++]=he[We++];for(;He<oe.length;)m[rt++]=oe[He++];return m}})(De=e.TextDocument||(e.TextDocument={}));var xe=function(){function s(d,f,c,o){this._uri=d,this._languageId=f,this._version=c,this._content=o,this._lineOffsets=void 0}return Object.defineProperty(s.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),s.prototype.getText=function(d){if(d){var f=this.offsetAt(d.start),c=this.offsetAt(d.end);return this._content.substring(f,c)}return this._content},s.prototype.update=function(d,f){this._content=d.text,this._version=f,this._lineOffsets=void 0},s.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var d=[],f=this._content,c=!0,o=0;o<f.length;o++){c&&(d.push(o),c=!1);var m=f.charAt(o);c=m==="\r"||m===`
`,m==="\r"&&o+1<f.length&&f.charAt(o+1)===`
`&&o++}c&&f.length>0&&d.push(f.length),this._lineOffsets=d}return this._lineOffsets},s.prototype.positionAt=function(d){d=Math.max(Math.min(d,this._content.length),0);var f=this.getLineOffsets(),c=0,o=f.length;if(o===0)return y.create(0,d);for(;c<o;){var m=Math.floor((c+o)/2);f[m]>d?o=m:c=m+1}var _=c-1;return y.create(_,d-f[_])},s.prototype.offsetAt=function(d){var f=this.getLineOffsets();if(d.line>=f.length)return this._content.length;if(d.line<0)return 0;var c=f[d.line],o=d.line+1<f.length?f[d.line+1]:this._content.length;return Math.max(Math.min(c+d.character,o),c)},Object.defineProperty(s.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),s}(),g;(function(s){var d=Object.prototype.toString;function f(U){return typeof U<"u"}s.defined=f;function c(U){return typeof U>"u"}s.undefined=c;function o(U){return U===!0||U===!1}s.boolean=o;function m(U){return d.call(U)==="[object String]"}s.string=m;function _(U){return d.call(U)==="[object Number]"}s.number=_;function H(U,It,Fn){return d.call(U)==="[object Number]"&&It<=U&&U<=Fn}s.numberRange=H;function he(U){return d.call(U)==="[object Number]"&&-2147483648<=U&&U<=2147483647}s.integer=he;function oe(U){return d.call(U)==="[object Number]"&&0<=U&&U<=2147483647}s.uinteger=oe;function We(U){return d.call(U)==="[object Function]"}s.func=We;function He(U){return U!==null&&typeof U=="object"}s.objectLiteral=He;function rt(U,It){return Array.isArray(U)&&U.every(It)}s.typedArray=rt})(g||(g={}))})});var de=E(qe=>{"use strict";Object.defineProperty(qe,"__esModule",{value:!0});qe.ProtocolNotificationType=qe.ProtocolNotificationType0=qe.ProtocolRequestType=qe.ProtocolRequestType0=qe.RegistrationType=qe.MessageDirection=void 0;var Vt=St(),cu;(function(t){t.clientToServer="clientToServer",t.serverToClient="serverToClient",t.both="both"})(cu=qe.MessageDirection||(qe.MessageDirection={}));var ao=class{constructor(e){this.method=e}};qe.RegistrationType=ao;var co=class extends Vt.RequestType0{constructor(e){super(e)}};qe.ProtocolRequestType0=co;var uo=class extends Vt.RequestType{constructor(e){super(e,Vt.ParameterStructures.byName)}};qe.ProtocolRequestType=uo;var lo=class extends Vt.NotificationType0{constructor(e){super(e)}};qe.ProtocolNotificationType0=lo;var fo=class extends Vt.NotificationType{constructor(e){super(e,Vt.ParameterStructures.byName)}};qe.ProtocolNotificationType=fo});var Yn=E(pe=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});pe.objectLiteral=pe.typedArray=pe.stringArray=pe.array=pe.func=pe.error=pe.number=pe.string=pe.boolean=void 0;function uu(t){return t===!0||t===!1}pe.boolean=uu;function ks(t){return typeof t=="string"||t instanceof String}pe.string=ks;function lu(t){return typeof t=="number"||t instanceof Number}pe.number=lu;function du(t){return t instanceof Error}pe.error=du;function fu(t){return typeof t=="function"}pe.func=fu;function Cs(t){return Array.isArray(t)}pe.array=Cs;function hu(t){return Cs(t)&&t.every(e=>ks(e))}pe.stringArray=hu;function gu(t,e){return Array.isArray(t)&&t.every(e)}pe.typedArray=gu;function mu(t){return t!==null&&typeof t=="object"}pe.objectLiteral=mu});var Ss=E(hn=>{"use strict";Object.defineProperty(hn,"__esModule",{value:!0});hn.ImplementationRequest=void 0;var qs=de(),pu;(function(t){t.method="textDocument/implementation",t.messageDirection=qs.MessageDirection.clientToServer,t.type=new qs.ProtocolRequestType(t.method)})(pu=hn.ImplementationRequest||(hn.ImplementationRequest={}))});var Ns=E(gn=>{"use strict";Object.defineProperty(gn,"__esModule",{value:!0});gn.TypeDefinitionRequest=void 0;var Es=de(),yu;(function(t){t.method="textDocument/typeDefinition",t.messageDirection=Es.MessageDirection.clientToServer,t.type=new Es.ProtocolRequestType(t.method)})(yu=gn.TypeDefinitionRequest||(gn.TypeDefinitionRequest={}))});var Ms=E(gt=>{"use strict";Object.defineProperty(gt,"__esModule",{value:!0});gt.DidChangeWorkspaceFoldersNotification=gt.WorkspaceFoldersRequest=void 0;var Zn=de(),vu;(function(t){t.method="workspace/workspaceFolders",t.messageDirection=Zn.MessageDirection.serverToClient,t.type=new Zn.ProtocolRequestType0(t.method)})(vu=gt.WorkspaceFoldersRequest||(gt.WorkspaceFoldersRequest={}));var bu;(function(t){t.method="workspace/didChangeWorkspaceFolders",t.messageDirection=Zn.MessageDirection.clientToServer,t.type=new Zn.ProtocolNotificationType(t.method)})(bu=gt.DidChangeWorkspaceFoldersNotification||(gt.DidChangeWorkspaceFoldersNotification={}))});var js=E(mn=>{"use strict";Object.defineProperty(mn,"__esModule",{value:!0});mn.ConfigurationRequest=void 0;var Os=de(),_u;(function(t){t.method="workspace/configuration",t.messageDirection=Os.MessageDirection.serverToClient,t.type=new Os.ProtocolRequestType(t.method)})(_u=mn.ConfigurationRequest||(mn.ConfigurationRequest={}))});var xs=E(mt=>{"use strict";Object.defineProperty(mt,"__esModule",{value:!0});mt.ColorPresentationRequest=mt.DocumentColorRequest=void 0;var er=de(),Du;(function(t){t.method="textDocument/documentColor",t.messageDirection=er.MessageDirection.clientToServer,t.type=new er.ProtocolRequestType(t.method)})(Du=mt.DocumentColorRequest||(mt.DocumentColorRequest={}));var Ru;(function(t){t.method="textDocument/colorPresentation",t.messageDirection=er.MessageDirection.clientToServer,t.type=new er.ProtocolRequestType(t.method)})(Ru=mt.ColorPresentationRequest||(mt.ColorPresentationRequest={}))});var Is=E(pn=>{"use strict";Object.defineProperty(pn,"__esModule",{value:!0});pn.FoldingRangeRequest=void 0;var Fs=de(),wu;(function(t){t.method="textDocument/foldingRange",t.messageDirection=Fs.MessageDirection.clientToServer,t.type=new Fs.ProtocolRequestType(t.method)})(wu=pn.FoldingRangeRequest||(pn.FoldingRangeRequest={}))});var Ls=E(yn=>{"use strict";Object.defineProperty(yn,"__esModule",{value:!0});yn.DeclarationRequest=void 0;var As=de(),Tu;(function(t){t.method="textDocument/declaration",t.messageDirection=As.MessageDirection.clientToServer,t.type=new As.ProtocolRequestType(t.method)})(Tu=yn.DeclarationRequest||(yn.DeclarationRequest={}))});var Hs=E(vn=>{"use strict";Object.defineProperty(vn,"__esModule",{value:!0});vn.SelectionRangeRequest=void 0;var Ws=de(),Pu;(function(t){t.method="textDocument/selectionRange",t.messageDirection=Ws.MessageDirection.clientToServer,t.type=new Ws.ProtocolRequestType(t.method)})(Pu=vn.SelectionRangeRequest||(vn.SelectionRangeRequest={}))});var zs=E(Be=>{"use strict";Object.defineProperty(Be,"__esModule",{value:!0});Be.WorkDoneProgressCancelNotification=Be.WorkDoneProgressCreateRequest=Be.WorkDoneProgress=void 0;var ku=St(),tr=de(),Cu;(function(t){t.type=new ku.ProgressType;function e(n){return n===t.type}t.is=e})(Cu=Be.WorkDoneProgress||(Be.WorkDoneProgress={}));var qu;(function(t){t.method="window/workDoneProgress/create",t.messageDirection=tr.MessageDirection.serverToClient,t.type=new tr.ProtocolRequestType(t.method)})(qu=Be.WorkDoneProgressCreateRequest||(Be.WorkDoneProgressCreateRequest={}));var Su;(function(t){t.method="window/workDoneProgress/cancel",t.messageDirection=tr.MessageDirection.clientToServer,t.type=new tr.ProtocolNotificationType(t.method)})(Su=Be.WorkDoneProgressCancelNotification||(Be.WorkDoneProgressCancelNotification={}))});var $s=E(Ve=>{"use strict";Object.defineProperty(Ve,"__esModule",{value:!0});Ve.CallHierarchyOutgoingCallsRequest=Ve.CallHierarchyIncomingCallsRequest=Ve.CallHierarchyPrepareRequest=void 0;var Ut=de(),Eu;(function(t){t.method="textDocument/prepareCallHierarchy",t.messageDirection=Ut.MessageDirection.clientToServer,t.type=new Ut.ProtocolRequestType(t.method)})(Eu=Ve.CallHierarchyPrepareRequest||(Ve.CallHierarchyPrepareRequest={}));var Nu;(function(t){t.method="callHierarchy/incomingCalls",t.messageDirection=Ut.MessageDirection.clientToServer,t.type=new Ut.ProtocolRequestType(t.method)})(Nu=Ve.CallHierarchyIncomingCallsRequest||(Ve.CallHierarchyIncomingCallsRequest={}));var Mu;(function(t){t.method="callHierarchy/outgoingCalls",t.messageDirection=Ut.MessageDirection.clientToServer,t.type=new Ut.ProtocolRequestType(t.method)})(Mu=Ve.CallHierarchyOutgoingCallsRequest||(Ve.CallHierarchyOutgoingCallsRequest={}))});var Bs=E(ye=>{"use strict";Object.defineProperty(ye,"__esModule",{value:!0});ye.SemanticTokensRefreshRequest=ye.SemanticTokensRangeRequest=ye.SemanticTokensDeltaRequest=ye.SemanticTokensRequest=ye.SemanticTokensRegistrationType=ye.TokenFormat=void 0;var ct=de(),Ou;(function(t){t.Relative="relative"})(Ou=ye.TokenFormat||(ye.TokenFormat={}));var nr;(function(t){t.method="textDocument/semanticTokens",t.type=new ct.RegistrationType(t.method)})(nr=ye.SemanticTokensRegistrationType||(ye.SemanticTokensRegistrationType={}));var ju;(function(t){t.method="textDocument/semanticTokens/full",t.messageDirection=ct.MessageDirection.clientToServer,t.type=new ct.ProtocolRequestType(t.method),t.registrationMethod=nr.method})(ju=ye.SemanticTokensRequest||(ye.SemanticTokensRequest={}));var xu;(function(t){t.method="textDocument/semanticTokens/full/delta",t.messageDirection=ct.MessageDirection.clientToServer,t.type=new ct.ProtocolRequestType(t.method),t.registrationMethod=nr.method})(xu=ye.SemanticTokensDeltaRequest||(ye.SemanticTokensDeltaRequest={}));var Fu;(function(t){t.method="textDocument/semanticTokens/range",t.messageDirection=ct.MessageDirection.clientToServer,t.type=new ct.ProtocolRequestType(t.method),t.registrationMethod=nr.method})(Fu=ye.SemanticTokensRangeRequest||(ye.SemanticTokensRangeRequest={}));var Iu;(function(t){t.method="workspace/semanticTokens/refresh",t.messageDirection=ct.MessageDirection.serverToClient,t.type=new ct.ProtocolRequestType0(t.method)})(Iu=ye.SemanticTokensRefreshRequest||(ye.SemanticTokensRefreshRequest={}))});var Us=E(bn=>{"use strict";Object.defineProperty(bn,"__esModule",{value:!0});bn.ShowDocumentRequest=void 0;var Vs=de(),Au;(function(t){t.method="window/showDocument",t.messageDirection=Vs.MessageDirection.serverToClient,t.type=new Vs.ProtocolRequestType(t.method)})(Au=bn.ShowDocumentRequest||(bn.ShowDocumentRequest={}))});var Js=E(_n=>{"use strict";Object.defineProperty(_n,"__esModule",{value:!0});_n.LinkedEditingRangeRequest=void 0;var Ks=de(),Lu;(function(t){t.method="textDocument/linkedEditingRange",t.messageDirection=Ks.MessageDirection.clientToServer,t.type=new Ks.ProtocolRequestType(t.method)})(Lu=_n.LinkedEditingRangeRequest||(_n.LinkedEditingRangeRequest={}))});var Gs=E(fe=>{"use strict";Object.defineProperty(fe,"__esModule",{value:!0});fe.WillDeleteFilesRequest=fe.DidDeleteFilesNotification=fe.DidRenameFilesNotification=fe.WillRenameFilesRequest=fe.DidCreateFilesNotification=fe.WillCreateFilesRequest=fe.FileOperationPatternKind=void 0;var Fe=de(),Wu;(function(t){t.file="file",t.folder="folder"})(Wu=fe.FileOperationPatternKind||(fe.FileOperationPatternKind={}));var Hu;(function(t){t.method="workspace/willCreateFiles",t.messageDirection=Fe.MessageDirection.clientToServer,t.type=new Fe.ProtocolRequestType(t.method)})(Hu=fe.WillCreateFilesRequest||(fe.WillCreateFilesRequest={}));var zu;(function(t){t.method="workspace/didCreateFiles",t.messageDirection=Fe.MessageDirection.clientToServer,t.type=new Fe.ProtocolNotificationType(t.method)})(zu=fe.DidCreateFilesNotification||(fe.DidCreateFilesNotification={}));var $u;(function(t){t.method="workspace/willRenameFiles",t.messageDirection=Fe.MessageDirection.clientToServer,t.type=new Fe.ProtocolRequestType(t.method)})($u=fe.WillRenameFilesRequest||(fe.WillRenameFilesRequest={}));var Bu;(function(t){t.method="workspace/didRenameFiles",t.messageDirection=Fe.MessageDirection.clientToServer,t.type=new Fe.ProtocolNotificationType(t.method)})(Bu=fe.DidRenameFilesNotification||(fe.DidRenameFilesNotification={}));var Vu;(function(t){t.method="workspace/didDeleteFiles",t.messageDirection=Fe.MessageDirection.clientToServer,t.type=new Fe.ProtocolNotificationType(t.method)})(Vu=fe.DidDeleteFilesNotification||(fe.DidDeleteFilesNotification={}));var Uu;(function(t){t.method="workspace/willDeleteFiles",t.messageDirection=Fe.MessageDirection.clientToServer,t.type=new Fe.ProtocolRequestType(t.method)})(Uu=fe.WillDeleteFilesRequest||(fe.WillDeleteFilesRequest={}))});var Qs=E(Ue=>{"use strict";Object.defineProperty(Ue,"__esModule",{value:!0});Ue.MonikerRequest=Ue.MonikerKind=Ue.UniquenessLevel=void 0;var Xs=de(),Ku;(function(t){t.document="document",t.project="project",t.group="group",t.scheme="scheme",t.global="global"})(Ku=Ue.UniquenessLevel||(Ue.UniquenessLevel={}));var Ju;(function(t){t.$import="import",t.$export="export",t.local="local"})(Ju=Ue.MonikerKind||(Ue.MonikerKind={}));var Gu;(function(t){t.method="textDocument/moniker",t.messageDirection=Xs.MessageDirection.clientToServer,t.type=new Xs.ProtocolRequestType(t.method)})(Gu=Ue.MonikerRequest||(Ue.MonikerRequest={}))});var Ys=E(Ke=>{"use strict";Object.defineProperty(Ke,"__esModule",{value:!0});Ke.TypeHierarchySubtypesRequest=Ke.TypeHierarchySupertypesRequest=Ke.TypeHierarchyPrepareRequest=void 0;var Kt=de(),Xu;(function(t){t.method="textDocument/prepareTypeHierarchy",t.messageDirection=Kt.MessageDirection.clientToServer,t.type=new Kt.ProtocolRequestType(t.method)})(Xu=Ke.TypeHierarchyPrepareRequest||(Ke.TypeHierarchyPrepareRequest={}));var Qu;(function(t){t.method="typeHierarchy/supertypes",t.messageDirection=Kt.MessageDirection.clientToServer,t.type=new Kt.ProtocolRequestType(t.method)})(Qu=Ke.TypeHierarchySupertypesRequest||(Ke.TypeHierarchySupertypesRequest={}));var Yu;(function(t){t.method="typeHierarchy/subtypes",t.messageDirection=Kt.MessageDirection.clientToServer,t.type=new Kt.ProtocolRequestType(t.method)})(Yu=Ke.TypeHierarchySubtypesRequest||(Ke.TypeHierarchySubtypesRequest={}))});var Zs=E(pt=>{"use strict";Object.defineProperty(pt,"__esModule",{value:!0});pt.InlineValueRefreshRequest=pt.InlineValueRequest=void 0;var rr=de(),Zu;(function(t){t.method="textDocument/inlineValue",t.messageDirection=rr.MessageDirection.clientToServer,t.type=new rr.ProtocolRequestType(t.method)})(Zu=pt.InlineValueRequest||(pt.InlineValueRequest={}));var el;(function(t){t.method="workspace/inlineValue/refresh",t.messageDirection=rr.MessageDirection.serverToClient,t.type=new rr.ProtocolRequestType0(t.method)})(el=pt.InlineValueRefreshRequest||(pt.InlineValueRefreshRequest={}))});var ea=E(Je=>{"use strict";Object.defineProperty(Je,"__esModule",{value:!0});Je.InlayHintRefreshRequest=Je.InlayHintResolveRequest=Je.InlayHintRequest=void 0;var Jt=de(),tl;(function(t){t.method="textDocument/inlayHint",t.messageDirection=Jt.MessageDirection.clientToServer,t.type=new Jt.ProtocolRequestType(t.method)})(tl=Je.InlayHintRequest||(Je.InlayHintRequest={}));var nl;(function(t){t.method="inlayHint/resolve",t.messageDirection=Jt.MessageDirection.clientToServer,t.type=new Jt.ProtocolRequestType(t.method)})(nl=Je.InlayHintResolveRequest||(Je.InlayHintResolveRequest={}));var rl;(function(t){t.method="workspace/inlayHint/refresh",t.messageDirection=Jt.MessageDirection.serverToClient,t.type=new Jt.ProtocolRequestType0(t.method)})(rl=Je.InlayHintRefreshRequest||(Je.InlayHintRefreshRequest={}))});var na=E(we=>{"use strict";Object.defineProperty(we,"__esModule",{value:!0});we.DiagnosticRefreshRequest=we.WorkspaceDiagnosticRequest=we.DocumentDiagnosticRequest=we.DocumentDiagnosticReportKind=we.DiagnosticServerCancellationData=void 0;var ta=St(),il=Yn(),Gt=de(),ol;(function(t){function e(n){let r=n;return r&&il.boolean(r.retriggerRequest)}t.is=e})(ol=we.DiagnosticServerCancellationData||(we.DiagnosticServerCancellationData={}));var sl;(function(t){t.Full="full",t.Unchanged="unchanged"})(sl=we.DocumentDiagnosticReportKind||(we.DocumentDiagnosticReportKind={}));var al;(function(t){t.method="textDocument/diagnostic",t.messageDirection=Gt.MessageDirection.clientToServer,t.type=new Gt.ProtocolRequestType(t.method),t.partialResult=new ta.ProgressType})(al=we.DocumentDiagnosticRequest||(we.DocumentDiagnosticRequest={}));var cl;(function(t){t.method="workspace/diagnostic",t.messageDirection=Gt.MessageDirection.clientToServer,t.type=new Gt.ProtocolRequestType(t.method),t.partialResult=new ta.ProgressType})(cl=we.WorkspaceDiagnosticRequest||(we.WorkspaceDiagnosticRequest={}));var ul;(function(t){t.method="workspace/diagnostic/refresh",t.messageDirection=Gt.MessageDirection.serverToClient,t.type=new Gt.ProtocolRequestType0(t.method)})(ul=we.DiagnosticRefreshRequest||(we.DiagnosticRefreshRequest={}))});var oa=E(Q=>{"use strict";Object.defineProperty(Q,"__esModule",{value:!0});Q.DidCloseNotebookDocumentNotification=Q.DidSaveNotebookDocumentNotification=Q.DidChangeNotebookDocumentNotification=Q.NotebookCellArrayChange=Q.DidOpenNotebookDocumentNotification=Q.NotebookDocumentSyncRegistrationType=Q.NotebookDocument=Q.NotebookCell=Q.ExecutionSummary=Q.NotebookCellKind=void 0;var Dn=Qn(),Ge=Yn(),Ye=de(),ra;(function(t){t.Markup=1,t.Code=2;function e(n){return n===1||n===2}t.is=e})(ra=Q.NotebookCellKind||(Q.NotebookCellKind={}));var ia;(function(t){function e(i,l){let y={executionOrder:i};return(l===!0||l===!1)&&(y.success=l),y}t.create=e;function n(i){let l=i;return Ge.objectLiteral(l)&&Dn.uinteger.is(l.executionOrder)&&(l.success===void 0||Ge.boolean(l.success))}t.is=n;function r(i,l){return i===l?!0:i==null||l===null||l===void 0?!1:i.executionOrder===l.executionOrder&&i.success===l.success}t.equals=r})(ia=Q.ExecutionSummary||(Q.ExecutionSummary={}));var ho;(function(t){function e(l,y){return{kind:l,document:y}}t.create=e;function n(l){let y=l;return Ge.objectLiteral(y)&&ra.is(y.kind)&&Dn.DocumentUri.is(y.document)&&(y.metadata===void 0||Ge.objectLiteral(y.metadata))}t.is=n;function r(l,y){let R=new Set;return l.document!==y.document&&R.add("document"),l.kind!==y.kind&&R.add("kind"),l.executionSummary!==y.executionSummary&&R.add("executionSummary"),(l.metadata!==void 0||y.metadata!==void 0)&&!i(l.metadata,y.metadata)&&R.add("metadata"),(l.executionSummary!==void 0||y.executionSummary!==void 0)&&!ia.equals(l.executionSummary,y.executionSummary)&&R.add("executionSummary"),R}t.diff=r;function i(l,y){if(l===y)return!0;if(l==null||y===null||y===void 0||typeof l!=typeof y||typeof l!="object")return!1;let R=Array.isArray(l),P=Array.isArray(y);if(R!==P)return!1;if(R&&P){if(l.length!==y.length)return!1;for(let w=0;w<l.length;w++)if(!i(l[w],y[w]))return!1}if(Ge.objectLiteral(l)&&Ge.objectLiteral(y)){let w=Object.keys(l),T=Object.keys(y);if(w.length!==T.length||(w.sort(),T.sort(),!i(w,T)))return!1;for(let M=0;M<w.length;M++){let S=w[M];if(!i(l[S],y[S]))return!1}}return!0}})(ho=Q.NotebookCell||(Q.NotebookCell={}));var ll;(function(t){function e(r,i,l,y){return{uri:r,notebookType:i,version:l,cells:y}}t.create=e;function n(r){let i=r;return Ge.objectLiteral(i)&&Ge.string(i.uri)&&Dn.integer.is(i.version)&&Ge.typedArray(i.cells,ho.is)}t.is=n})(ll=Q.NotebookDocument||(Q.NotebookDocument={}));var Rn;(function(t){t.method="notebookDocument/sync",t.messageDirection=Ye.MessageDirection.clientToServer,t.type=new Ye.RegistrationType(t.method)})(Rn=Q.NotebookDocumentSyncRegistrationType||(Q.NotebookDocumentSyncRegistrationType={}));var dl;(function(t){t.method="notebookDocument/didOpen",t.messageDirection=Ye.MessageDirection.clientToServer,t.type=new Ye.ProtocolNotificationType(t.method),t.registrationMethod=Rn.method})(dl=Q.DidOpenNotebookDocumentNotification||(Q.DidOpenNotebookDocumentNotification={}));var fl;(function(t){function e(r){let i=r;return Ge.objectLiteral(i)&&Dn.uinteger.is(i.start)&&Dn.uinteger.is(i.deleteCount)&&(i.cells===void 0||Ge.typedArray(i.cells,ho.is))}t.is=e;function n(r,i,l){let y={start:r,deleteCount:i};return l!==void 0&&(y.cells=l),y}t.create=n})(fl=Q.NotebookCellArrayChange||(Q.NotebookCellArrayChange={}));var hl;(function(t){t.method="notebookDocument/didChange",t.messageDirection=Ye.MessageDirection.clientToServer,t.type=new Ye.ProtocolNotificationType(t.method),t.registrationMethod=Rn.method})(hl=Q.DidChangeNotebookDocumentNotification||(Q.DidChangeNotebookDocumentNotification={}));var gl;(function(t){t.method="notebookDocument/didSave",t.messageDirection=Ye.MessageDirection.clientToServer,t.type=new Ye.ProtocolNotificationType(t.method),t.registrationMethod=Rn.method})(gl=Q.DidSaveNotebookDocumentNotification||(Q.DidSaveNotebookDocumentNotification={}));var ml;(function(t){t.method="notebookDocument/didClose",t.messageDirection=Ye.MessageDirection.clientToServer,t.type=new Ye.ProtocolNotificationType(t.method),t.registrationMethod=Rn.method})(ml=Q.DidCloseNotebookDocumentNotification||(Q.DidCloseNotebookDocumentNotification={}))});var ga=E(a=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.WorkspaceSymbolRequest=a.CodeActionResolveRequest=a.CodeActionRequest=a.DocumentSymbolRequest=a.DocumentHighlightRequest=a.ReferencesRequest=a.DefinitionRequest=a.SignatureHelpRequest=a.SignatureHelpTriggerKind=a.HoverRequest=a.CompletionResolveRequest=a.CompletionRequest=a.CompletionTriggerKind=a.PublishDiagnosticsNotification=a.WatchKind=a.RelativePattern=a.FileChangeType=a.DidChangeWatchedFilesNotification=a.WillSaveTextDocumentWaitUntilRequest=a.WillSaveTextDocumentNotification=a.TextDocumentSaveReason=a.DidSaveTextDocumentNotification=a.DidCloseTextDocumentNotification=a.DidChangeTextDocumentNotification=a.TextDocumentContentChangeEvent=a.DidOpenTextDocumentNotification=a.TextDocumentSyncKind=a.TelemetryEventNotification=a.LogMessageNotification=a.ShowMessageRequest=a.ShowMessageNotification=a.MessageType=a.DidChangeConfigurationNotification=a.ExitNotification=a.ShutdownRequest=a.InitializedNotification=a.InitializeErrorCodes=a.InitializeRequest=a.WorkDoneProgressOptions=a.TextDocumentRegistrationOptions=a.StaticRegistrationOptions=a.PositionEncodingKind=a.FailureHandlingKind=a.ResourceOperationKind=a.UnregistrationRequest=a.RegistrationRequest=a.DocumentSelector=a.NotebookCellTextDocumentFilter=a.NotebookDocumentFilter=a.TextDocumentFilter=void 0;a.TypeHierarchySubtypesRequest=a.TypeHierarchyPrepareRequest=a.MonikerRequest=a.MonikerKind=a.UniquenessLevel=a.WillDeleteFilesRequest=a.DidDeleteFilesNotification=a.WillRenameFilesRequest=a.DidRenameFilesNotification=a.WillCreateFilesRequest=a.DidCreateFilesNotification=a.FileOperationPatternKind=a.LinkedEditingRangeRequest=a.ShowDocumentRequest=a.SemanticTokensRegistrationType=a.SemanticTokensRefreshRequest=a.SemanticTokensRangeRequest=a.SemanticTokensDeltaRequest=a.SemanticTokensRequest=a.TokenFormat=a.CallHierarchyPrepareRequest=a.CallHierarchyOutgoingCallsRequest=a.CallHierarchyIncomingCallsRequest=a.WorkDoneProgressCancelNotification=a.WorkDoneProgressCreateRequest=a.WorkDoneProgress=a.SelectionRangeRequest=a.DeclarationRequest=a.FoldingRangeRequest=a.ColorPresentationRequest=a.DocumentColorRequest=a.ConfigurationRequest=a.DidChangeWorkspaceFoldersNotification=a.WorkspaceFoldersRequest=a.TypeDefinitionRequest=a.ImplementationRequest=a.ApplyWorkspaceEditRequest=a.ExecuteCommandRequest=a.PrepareRenameRequest=a.RenameRequest=a.PrepareSupportDefaultBehavior=a.DocumentOnTypeFormattingRequest=a.DocumentRangeFormattingRequest=a.DocumentFormattingRequest=a.DocumentLinkResolveRequest=a.DocumentLinkRequest=a.CodeLensRefreshRequest=a.CodeLensResolveRequest=a.CodeLensRequest=a.WorkspaceSymbolResolveRequest=void 0;a.DidCloseNotebookDocumentNotification=a.DidSaveNotebookDocumentNotification=a.DidChangeNotebookDocumentNotification=a.NotebookCellArrayChange=a.DidOpenNotebookDocumentNotification=a.NotebookDocumentSyncRegistrationType=a.NotebookDocument=a.NotebookCell=a.ExecutionSummary=a.NotebookCellKind=a.DiagnosticRefreshRequest=a.WorkspaceDiagnosticRequest=a.DocumentDiagnosticRequest=a.DocumentDiagnosticReportKind=a.DiagnosticServerCancellationData=a.InlayHintRefreshRequest=a.InlayHintResolveRequest=a.InlayHintRequest=a.InlineValueRefreshRequest=a.InlineValueRequest=a.TypeHierarchySupertypesRequest=void 0;var k=de(),sa=Qn(),Te=Yn(),pl=Ss();Object.defineProperty(a,"ImplementationRequest",{enumerable:!0,get:function(){return pl.ImplementationRequest}});var yl=Ns();Object.defineProperty(a,"TypeDefinitionRequest",{enumerable:!0,get:function(){return yl.TypeDefinitionRequest}});var aa=Ms();Object.defineProperty(a,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return aa.WorkspaceFoldersRequest}});Object.defineProperty(a,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return aa.DidChangeWorkspaceFoldersNotification}});var vl=js();Object.defineProperty(a,"ConfigurationRequest",{enumerable:!0,get:function(){return vl.ConfigurationRequest}});var ca=xs();Object.defineProperty(a,"DocumentColorRequest",{enumerable:!0,get:function(){return ca.DocumentColorRequest}});Object.defineProperty(a,"ColorPresentationRequest",{enumerable:!0,get:function(){return ca.ColorPresentationRequest}});var bl=Is();Object.defineProperty(a,"FoldingRangeRequest",{enumerable:!0,get:function(){return bl.FoldingRangeRequest}});var _l=Ls();Object.defineProperty(a,"DeclarationRequest",{enumerable:!0,get:function(){return _l.DeclarationRequest}});var Dl=Hs();Object.defineProperty(a,"SelectionRangeRequest",{enumerable:!0,get:function(){return Dl.SelectionRangeRequest}});var go=zs();Object.defineProperty(a,"WorkDoneProgress",{enumerable:!0,get:function(){return go.WorkDoneProgress}});Object.defineProperty(a,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return go.WorkDoneProgressCreateRequest}});Object.defineProperty(a,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return go.WorkDoneProgressCancelNotification}});var mo=$s();Object.defineProperty(a,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return mo.CallHierarchyIncomingCallsRequest}});Object.defineProperty(a,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return mo.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(a,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return mo.CallHierarchyPrepareRequest}});var Xt=Bs();Object.defineProperty(a,"TokenFormat",{enumerable:!0,get:function(){return Xt.TokenFormat}});Object.defineProperty(a,"SemanticTokensRequest",{enumerable:!0,get:function(){return Xt.SemanticTokensRequest}});Object.defineProperty(a,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return Xt.SemanticTokensDeltaRequest}});Object.defineProperty(a,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return Xt.SemanticTokensRangeRequest}});Object.defineProperty(a,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return Xt.SemanticTokensRefreshRequest}});Object.defineProperty(a,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return Xt.SemanticTokensRegistrationType}});var Rl=Us();Object.defineProperty(a,"ShowDocumentRequest",{enumerable:!0,get:function(){return Rl.ShowDocumentRequest}});var wl=Js();Object.defineProperty(a,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return wl.LinkedEditingRangeRequest}});var Et=Gs();Object.defineProperty(a,"FileOperationPatternKind",{enumerable:!0,get:function(){return Et.FileOperationPatternKind}});Object.defineProperty(a,"DidCreateFilesNotification",{enumerable:!0,get:function(){return Et.DidCreateFilesNotification}});Object.defineProperty(a,"WillCreateFilesRequest",{enumerable:!0,get:function(){return Et.WillCreateFilesRequest}});Object.defineProperty(a,"DidRenameFilesNotification",{enumerable:!0,get:function(){return Et.DidRenameFilesNotification}});Object.defineProperty(a,"WillRenameFilesRequest",{enumerable:!0,get:function(){return Et.WillRenameFilesRequest}});Object.defineProperty(a,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return Et.DidDeleteFilesNotification}});Object.defineProperty(a,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return Et.WillDeleteFilesRequest}});var po=Qs();Object.defineProperty(a,"UniquenessLevel",{enumerable:!0,get:function(){return po.UniquenessLevel}});Object.defineProperty(a,"MonikerKind",{enumerable:!0,get:function(){return po.MonikerKind}});Object.defineProperty(a,"MonikerRequest",{enumerable:!0,get:function(){return po.MonikerRequest}});var yo=Ys();Object.defineProperty(a,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return yo.TypeHierarchyPrepareRequest}});Object.defineProperty(a,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return yo.TypeHierarchySubtypesRequest}});Object.defineProperty(a,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return yo.TypeHierarchySupertypesRequest}});var ua=Zs();Object.defineProperty(a,"InlineValueRequest",{enumerable:!0,get:function(){return ua.InlineValueRequest}});Object.defineProperty(a,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return ua.InlineValueRefreshRequest}});var vo=ea();Object.defineProperty(a,"InlayHintRequest",{enumerable:!0,get:function(){return vo.InlayHintRequest}});Object.defineProperty(a,"InlayHintResolveRequest",{enumerable:!0,get:function(){return vo.InlayHintResolveRequest}});Object.defineProperty(a,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return vo.InlayHintRefreshRequest}});var wn=na();Object.defineProperty(a,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return wn.DiagnosticServerCancellationData}});Object.defineProperty(a,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return wn.DocumentDiagnosticReportKind}});Object.defineProperty(a,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return wn.DocumentDiagnosticRequest}});Object.defineProperty(a,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return wn.WorkspaceDiagnosticRequest}});Object.defineProperty(a,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return wn.DiagnosticRefreshRequest}});var Ze=oa();Object.defineProperty(a,"NotebookCellKind",{enumerable:!0,get:function(){return Ze.NotebookCellKind}});Object.defineProperty(a,"ExecutionSummary",{enumerable:!0,get:function(){return Ze.ExecutionSummary}});Object.defineProperty(a,"NotebookCell",{enumerable:!0,get:function(){return Ze.NotebookCell}});Object.defineProperty(a,"NotebookDocument",{enumerable:!0,get:function(){return Ze.NotebookDocument}});Object.defineProperty(a,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return Ze.NotebookDocumentSyncRegistrationType}});Object.defineProperty(a,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return Ze.DidOpenNotebookDocumentNotification}});Object.defineProperty(a,"NotebookCellArrayChange",{enumerable:!0,get:function(){return Ze.NotebookCellArrayChange}});Object.defineProperty(a,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return Ze.DidChangeNotebookDocumentNotification}});Object.defineProperty(a,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return Ze.DidSaveNotebookDocumentNotification}});Object.defineProperty(a,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return Ze.DidCloseNotebookDocumentNotification}});var la;(function(t){function e(n){let r=n;return Te.string(r.language)||Te.string(r.scheme)||Te.string(r.pattern)}t.is=e})(la=a.TextDocumentFilter||(a.TextDocumentFilter={}));var da;(function(t){function e(n){let r=n;return Te.objectLiteral(r)&&(Te.string(r.notebookType)||Te.string(r.scheme)||Te.string(r.pattern))}t.is=e})(da=a.NotebookDocumentFilter||(a.NotebookDocumentFilter={}));var fa;(function(t){function e(n){let r=n;return Te.objectLiteral(r)&&(Te.string(r.notebook)||da.is(r.notebook))&&(r.language===void 0||Te.string(r.language))}t.is=e})(fa=a.NotebookCellTextDocumentFilter||(a.NotebookCellTextDocumentFilter={}));var ha;(function(t){function e(n){if(!Array.isArray(n))return!1;for(let r of n)if(!Te.string(r)&&!la.is(r)&&!fa.is(r))return!1;return!0}t.is=e})(ha=a.DocumentSelector||(a.DocumentSelector={}));var Tl;(function(t){t.method="client/registerCapability",t.messageDirection=k.MessageDirection.serverToClient,t.type=new k.ProtocolRequestType(t.method)})(Tl=a.RegistrationRequest||(a.RegistrationRequest={}));var Pl;(function(t){t.method="client/unregisterCapability",t.messageDirection=k.MessageDirection.serverToClient,t.type=new k.ProtocolRequestType(t.method)})(Pl=a.UnregistrationRequest||(a.UnregistrationRequest={}));var kl;(function(t){t.Create="create",t.Rename="rename",t.Delete="delete"})(kl=a.ResourceOperationKind||(a.ResourceOperationKind={}));var Cl;(function(t){t.Abort="abort",t.Transactional="transactional",t.TextOnlyTransactional="textOnlyTransactional",t.Undo="undo"})(Cl=a.FailureHandlingKind||(a.FailureHandlingKind={}));var ql;(function(t){t.UTF8="utf-8",t.UTF16="utf-16",t.UTF32="utf-32"})(ql=a.PositionEncodingKind||(a.PositionEncodingKind={}));var Sl;(function(t){function e(n){let r=n;return r&&Te.string(r.id)&&r.id.length>0}t.hasId=e})(Sl=a.StaticRegistrationOptions||(a.StaticRegistrationOptions={}));var El;(function(t){function e(n){let r=n;return r&&(r.documentSelector===null||ha.is(r.documentSelector))}t.is=e})(El=a.TextDocumentRegistrationOptions||(a.TextDocumentRegistrationOptions={}));var Nl;(function(t){function e(r){let i=r;return Te.objectLiteral(i)&&(i.workDoneProgress===void 0||Te.boolean(i.workDoneProgress))}t.is=e;function n(r){let i=r;return i&&Te.boolean(i.workDoneProgress)}t.hasWorkDoneProgress=n})(Nl=a.WorkDoneProgressOptions||(a.WorkDoneProgressOptions={}));var Ml;(function(t){t.method="initialize",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(Ml=a.InitializeRequest||(a.InitializeRequest={}));var Ol;(function(t){t.unknownProtocolVersion=1})(Ol=a.InitializeErrorCodes||(a.InitializeErrorCodes={}));var jl;(function(t){t.method="initialized",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolNotificationType(t.method)})(jl=a.InitializedNotification||(a.InitializedNotification={}));var xl;(function(t){t.method="shutdown",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType0(t.method)})(xl=a.ShutdownRequest||(a.ShutdownRequest={}));var Fl;(function(t){t.method="exit",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolNotificationType0(t.method)})(Fl=a.ExitNotification||(a.ExitNotification={}));var Il;(function(t){t.method="workspace/didChangeConfiguration",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolNotificationType(t.method)})(Il=a.DidChangeConfigurationNotification||(a.DidChangeConfigurationNotification={}));var Al;(function(t){t.Error=1,t.Warning=2,t.Info=3,t.Log=4})(Al=a.MessageType||(a.MessageType={}));var Ll;(function(t){t.method="window/showMessage",t.messageDirection=k.MessageDirection.serverToClient,t.type=new k.ProtocolNotificationType(t.method)})(Ll=a.ShowMessageNotification||(a.ShowMessageNotification={}));var Wl;(function(t){t.method="window/showMessageRequest",t.messageDirection=k.MessageDirection.serverToClient,t.type=new k.ProtocolRequestType(t.method)})(Wl=a.ShowMessageRequest||(a.ShowMessageRequest={}));var Hl;(function(t){t.method="window/logMessage",t.messageDirection=k.MessageDirection.serverToClient,t.type=new k.ProtocolNotificationType(t.method)})(Hl=a.LogMessageNotification||(a.LogMessageNotification={}));var zl;(function(t){t.method="telemetry/event",t.messageDirection=k.MessageDirection.serverToClient,t.type=new k.ProtocolNotificationType(t.method)})(zl=a.TelemetryEventNotification||(a.TelemetryEventNotification={}));var $l;(function(t){t.None=0,t.Full=1,t.Incremental=2})($l=a.TextDocumentSyncKind||(a.TextDocumentSyncKind={}));var Bl;(function(t){t.method="textDocument/didOpen",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolNotificationType(t.method)})(Bl=a.DidOpenTextDocumentNotification||(a.DidOpenTextDocumentNotification={}));var Vl;(function(t){function e(r){let i=r;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}t.isIncremental=e;function n(r){let i=r;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}t.isFull=n})(Vl=a.TextDocumentContentChangeEvent||(a.TextDocumentContentChangeEvent={}));var Ul;(function(t){t.method="textDocument/didChange",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolNotificationType(t.method)})(Ul=a.DidChangeTextDocumentNotification||(a.DidChangeTextDocumentNotification={}));var Kl;(function(t){t.method="textDocument/didClose",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolNotificationType(t.method)})(Kl=a.DidCloseTextDocumentNotification||(a.DidCloseTextDocumentNotification={}));var Jl;(function(t){t.method="textDocument/didSave",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolNotificationType(t.method)})(Jl=a.DidSaveTextDocumentNotification||(a.DidSaveTextDocumentNotification={}));var Gl;(function(t){t.Manual=1,t.AfterDelay=2,t.FocusOut=3})(Gl=a.TextDocumentSaveReason||(a.TextDocumentSaveReason={}));var Xl;(function(t){t.method="textDocument/willSave",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolNotificationType(t.method)})(Xl=a.WillSaveTextDocumentNotification||(a.WillSaveTextDocumentNotification={}));var Ql;(function(t){t.method="textDocument/willSaveWaitUntil",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(Ql=a.WillSaveTextDocumentWaitUntilRequest||(a.WillSaveTextDocumentWaitUntilRequest={}));var Yl;(function(t){t.method="workspace/didChangeWatchedFiles",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolNotificationType(t.method)})(Yl=a.DidChangeWatchedFilesNotification||(a.DidChangeWatchedFilesNotification={}));var Zl;(function(t){t.Created=1,t.Changed=2,t.Deleted=3})(Zl=a.FileChangeType||(a.FileChangeType={}));var ed;(function(t){function e(n){let r=n;return Te.objectLiteral(r)&&(sa.URI.is(r.baseUri)||sa.WorkspaceFolder.is(r.baseUri))&&Te.string(r.pattern)}t.is=e})(ed=a.RelativePattern||(a.RelativePattern={}));var td;(function(t){t.Create=1,t.Change=2,t.Delete=4})(td=a.WatchKind||(a.WatchKind={}));var nd;(function(t){t.method="textDocument/publishDiagnostics",t.messageDirection=k.MessageDirection.serverToClient,t.type=new k.ProtocolNotificationType(t.method)})(nd=a.PublishDiagnosticsNotification||(a.PublishDiagnosticsNotification={}));var rd;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.TriggerForIncompleteCompletions=3})(rd=a.CompletionTriggerKind||(a.CompletionTriggerKind={}));var id;(function(t){t.method="textDocument/completion",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(id=a.CompletionRequest||(a.CompletionRequest={}));var od;(function(t){t.method="completionItem/resolve",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(od=a.CompletionResolveRequest||(a.CompletionResolveRequest={}));var sd;(function(t){t.method="textDocument/hover",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(sd=a.HoverRequest||(a.HoverRequest={}));var ad;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.ContentChange=3})(ad=a.SignatureHelpTriggerKind||(a.SignatureHelpTriggerKind={}));var cd;(function(t){t.method="textDocument/signatureHelp",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(cd=a.SignatureHelpRequest||(a.SignatureHelpRequest={}));var ud;(function(t){t.method="textDocument/definition",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(ud=a.DefinitionRequest||(a.DefinitionRequest={}));var ld;(function(t){t.method="textDocument/references",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(ld=a.ReferencesRequest||(a.ReferencesRequest={}));var dd;(function(t){t.method="textDocument/documentHighlight",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(dd=a.DocumentHighlightRequest||(a.DocumentHighlightRequest={}));var fd;(function(t){t.method="textDocument/documentSymbol",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(fd=a.DocumentSymbolRequest||(a.DocumentSymbolRequest={}));var hd;(function(t){t.method="textDocument/codeAction",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(hd=a.CodeActionRequest||(a.CodeActionRequest={}));var gd;(function(t){t.method="codeAction/resolve",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(gd=a.CodeActionResolveRequest||(a.CodeActionResolveRequest={}));var md;(function(t){t.method="workspace/symbol",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(md=a.WorkspaceSymbolRequest||(a.WorkspaceSymbolRequest={}));var pd;(function(t){t.method="workspaceSymbol/resolve",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(pd=a.WorkspaceSymbolResolveRequest||(a.WorkspaceSymbolResolveRequest={}));var yd;(function(t){t.method="textDocument/codeLens",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(yd=a.CodeLensRequest||(a.CodeLensRequest={}));var vd;(function(t){t.method="codeLens/resolve",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(vd=a.CodeLensResolveRequest||(a.CodeLensResolveRequest={}));var bd;(function(t){t.method="workspace/codeLens/refresh",t.messageDirection=k.MessageDirection.serverToClient,t.type=new k.ProtocolRequestType0(t.method)})(bd=a.CodeLensRefreshRequest||(a.CodeLensRefreshRequest={}));var _d;(function(t){t.method="textDocument/documentLink",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(_d=a.DocumentLinkRequest||(a.DocumentLinkRequest={}));var Dd;(function(t){t.method="documentLink/resolve",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(Dd=a.DocumentLinkResolveRequest||(a.DocumentLinkResolveRequest={}));var Rd;(function(t){t.method="textDocument/formatting",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(Rd=a.DocumentFormattingRequest||(a.DocumentFormattingRequest={}));var wd;(function(t){t.method="textDocument/rangeFormatting",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(wd=a.DocumentRangeFormattingRequest||(a.DocumentRangeFormattingRequest={}));var Td;(function(t){t.method="textDocument/onTypeFormatting",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(Td=a.DocumentOnTypeFormattingRequest||(a.DocumentOnTypeFormattingRequest={}));var Pd;(function(t){t.Identifier=1})(Pd=a.PrepareSupportDefaultBehavior||(a.PrepareSupportDefaultBehavior={}));var kd;(function(t){t.method="textDocument/rename",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(kd=a.RenameRequest||(a.RenameRequest={}));var Cd;(function(t){t.method="textDocument/prepareRename",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(Cd=a.PrepareRenameRequest||(a.PrepareRenameRequest={}));var qd;(function(t){t.method="workspace/executeCommand",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(qd=a.ExecuteCommandRequest||(a.ExecuteCommandRequest={}));var Sd;(function(t){t.method="workspace/applyEdit",t.messageDirection=k.MessageDirection.serverToClient,t.type=new k.ProtocolRequestType("workspace/applyEdit")})(Sd=a.ApplyWorkspaceEditRequest||(a.ApplyWorkspaceEditRequest={}))});var pa=E(ir=>{"use strict";Object.defineProperty(ir,"__esModule",{value:!0});ir.createProtocolConnection=void 0;var ma=St();function Ed(t,e,n,r){return ma.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),(0,ma.createMessageConnection)(t,e,n,r)}ir.createProtocolConnection=Ed});var ya=E(Se=>{"use strict";var Nd=Se&&Se.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),or=Se&&Se.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Nd(e,t,n)};Object.defineProperty(Se,"__esModule",{value:!0});Se.LSPErrorCodes=Se.createProtocolConnection=void 0;or(St(),Se);or(Qn(),Se);or(de(),Se);or(ga(),Se);var Md=pa();Object.defineProperty(Se,"createProtocolConnection",{enumerable:!0,get:function(){return Md.createProtocolConnection}});var Od;(function(t){t.lspReservedErrorRangeStart=-32899,t.RequestFailed=-32803,t.ServerCancelled=-32802,t.ContentModified=-32801,t.RequestCancelled=-32800,t.lspReservedErrorRangeEnd=-32800})(Od=Se.LSPErrorCodes||(Se.LSPErrorCodes={}))});var ve=E(et=>{"use strict";var jd=et&&et.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),va=et&&et.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&jd(e,t,n)};Object.defineProperty(et,"__esModule",{value:!0});et.createProtocolConnection=void 0;var xd=so();va(so(),et);va(ya(),et);function Fd(t,e,n,r){return(0,xd.createMessageConnection)(t,e,n,r)}et.createProtocolConnection=Fd});var bo=E(Ie=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});Ie.generateUuid=Ie.parse=Ie.isUUID=Ie.v4=Ie.empty=void 0;var Tn=class{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}},$=class extends Tn{constructor(){super([$._randomHex(),$._randomHex(),$._randomHex(),$._randomHex(),$._randomHex(),$._randomHex(),$._randomHex(),$._randomHex(),"-",$._randomHex(),$._randomHex(),$._randomHex(),$._randomHex(),"-","4",$._randomHex(),$._randomHex(),$._randomHex(),"-",$._oneOf($._timeHighBits),$._randomHex(),$._randomHex(),$._randomHex(),"-",$._randomHex(),$._randomHex(),$._randomHex(),$._randomHex(),$._randomHex(),$._randomHex(),$._randomHex(),$._randomHex(),$._randomHex(),$._randomHex(),$._randomHex(),$._randomHex()].join(""))}static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return $._oneOf($._chars)}};$._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];$._timeHighBits=["8","9","a","b"];Ie.empty=new Tn("00000000-0000-0000-0000-000000000000");function ba(){return new $}Ie.v4=ba;var Id=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function _a(t){return Id.test(t)}Ie.isUUID=_a;function Ad(t){if(!_a(t))throw new Error("invalid uuid");return new Tn(t)}Ie.parse=Ad;function Ld(){return ba().asHex()}Ie.generateUuid=Ld});var Da=E(vt=>{"use strict";Object.defineProperty(vt,"__esModule",{value:!0});vt.attachPartialResult=vt.ProgressFeature=vt.attachWorkDone=void 0;var yt=ve(),Wd=bo(),tt=class{constructor(e,n){this._connection=e,this._token=n,tt.Instances.set(this._token,this)}begin(e,n,r,i){let l={kind:"begin",title:e,percentage:n,message:r,cancellable:i};this._connection.sendProgress(yt.WorkDoneProgress.type,this._token,l)}report(e,n){let r={kind:"report"};typeof e=="number"?(r.percentage=e,n!==void 0&&(r.message=n)):r.message=e,this._connection.sendProgress(yt.WorkDoneProgress.type,this._token,r)}done(){tt.Instances.delete(this._token),this._connection.sendProgress(yt.WorkDoneProgress.type,this._token,{kind:"end"})}};tt.Instances=new Map;var sr=class extends tt{constructor(e,n){super(e,n),this._source=new yt.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}},Pn=class{constructor(){}begin(){}report(){}done(){}},ar=class extends Pn{constructor(){super(),this._source=new yt.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}};function Hd(t,e){if(e===void 0||e.workDoneToken===void 0)return new Pn;let n=e.workDoneToken;return delete e.workDoneToken,new tt(t,n)}vt.attachWorkDone=Hd;var zd=t=>class extends t{constructor(){super(),this._progressSupported=!1}initialize(e){super.initialize(e),e?.window?.workDoneProgress===!0&&(this._progressSupported=!0,this.connection.onNotification(yt.WorkDoneProgressCancelNotification.type,n=>{let r=tt.Instances.get(n.token);(r instanceof sr||r instanceof ar)&&r.cancel()}))}attachWorkDoneProgress(e){return e===void 0?new Pn:new tt(this.connection,e)}createWorkDoneProgress(){if(this._progressSupported){let e=(0,Wd.generateUuid)();return this.connection.sendRequest(yt.WorkDoneProgressCreateRequest.type,{token:e}).then(()=>new sr(this.connection,e))}else return Promise.resolve(new ar)}};vt.ProgressFeature=zd;var _o;(function(t){t.type=new yt.ProgressType})(_o||(_o={}));var Do=class{constructor(e,n){this._connection=e,this._token=n}report(e){this._connection.sendProgress(_o.type,this._token,e)}};function $d(t,e){if(e===void 0||e.partialResultToken===void 0)return;let n=e.partialResultToken;return delete e.partialResultToken,new Do(t,n)}vt.attachPartialResult=$d});var Ra=E(cr=>{"use strict";Object.defineProperty(cr,"__esModule",{value:!0});cr.ConfigurationFeature=void 0;var Bd=ve(),Vd=In(),Ud=t=>class extends t{getConfiguration(e){return e?Vd.string(e)?this._getConfiguration({section:e}):this._getConfiguration(e):this._getConfiguration({})}_getConfiguration(e){let n={items:Array.isArray(e)?e:[e]};return this.connection.sendRequest(Bd.ConfigurationRequest.type,n).then(r=>Array.isArray(r)?Array.isArray(e)?r:r[0]:Array.isArray(e)?[]:null)}};cr.ConfigurationFeature=Ud});var wa=E(lr=>{"use strict";Object.defineProperty(lr,"__esModule",{value:!0});lr.WorkspaceFoldersFeature=void 0;var ur=ve(),Kd=t=>class extends t{constructor(){super(),this._notificationIsAutoRegistered=!1}initialize(e){super.initialize(e);let n=e.workspace;n&&n.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new ur.Emitter,this.connection.onNotification(ur.DidChangeWorkspaceFoldersNotification.type,r=>{this._onDidChangeWorkspaceFolders.fire(r.event)}))}fillServerCapabilities(e){super.fillServerCapabilities(e);let n=e.workspace?.workspaceFolders?.changeNotifications;this._notificationIsAutoRegistered=n===!0||typeof n=="string"}getWorkspaceFolders(){return this.connection.sendRequest(ur.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return!this._notificationIsAutoRegistered&&!this._unregistration&&(this._unregistration=this.connection.client.register(ur.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}};lr.WorkspaceFoldersFeature=Kd});var Ta=E(dr=>{"use strict";Object.defineProperty(dr,"__esModule",{value:!0});dr.CallHierarchyFeature=void 0;var Ro=ve(),Jd=t=>class extends t{get callHierarchy(){return{onPrepare:e=>this.connection.onRequest(Ro.CallHierarchyPrepareRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),void 0)),onIncomingCalls:e=>{let n=Ro.CallHierarchyIncomingCallsRequest.type;return this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onOutgoingCalls:e=>{let n=Ro.CallHierarchyOutgoingCallsRequest.type;return this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};dr.CallHierarchyFeature=Jd});var To=E(bt=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});bt.SemanticTokensBuilder=bt.SemanticTokensDiff=bt.SemanticTokensFeature=void 0;var fr=ve(),Gd=t=>class extends t{get semanticTokens(){return{refresh:()=>this.connection.sendRequest(fr.SemanticTokensRefreshRequest.type),on:e=>{let n=fr.SemanticTokensRequest.type;return this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onDelta:e=>{let n=fr.SemanticTokensDeltaRequest.type;return this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onRange:e=>{let n=fr.SemanticTokensRangeRequest.type;return this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};bt.SemanticTokensFeature=Gd;var hr=class{constructor(e,n){this.originalSequence=e,this.modifiedSequence=n}computeDiff(){let e=this.originalSequence.length,n=this.modifiedSequence.length,r=0;for(;r<n&&r<e&&this.originalSequence[r]===this.modifiedSequence[r];)r++;if(r<n&&r<e){let i=e-1,l=n-1;for(;i>=r&&l>=r&&this.originalSequence[i]===this.modifiedSequence[l];)i--,l--;(i<r||l<r)&&(i++,l++);let y=i-r+1,R=this.modifiedSequence.slice(r,l+1);return R.length===1&&R[0]===this.originalSequence[i]?[{start:r,deleteCount:y-1}]:[{start:r,deleteCount:y,data:R}]}else return r<n?[{start:r,deleteCount:0,data:this.modifiedSequence.slice(r)}]:r<e?[{start:r,deleteCount:e-r}]:[]}};bt.SemanticTokensDiff=hr;var wo=class{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(e,n,r,i,l){let y=e,R=n;this._dataLen>0&&(y-=this._prevLine,y===0&&(R-=this._prevChar)),this._data[this._dataLen++]=y,this._data[this._dataLen++]=R,this._data[this._dataLen++]=r,this._data[this._dataLen++]=i,this._data[this._dataLen++]=l,this._prevLine=e,this._prevChar=n}get id(){return this._id.toString()}previousResult(e){this.id===e&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){return this._prevData!==void 0?{resultId:this.id,edits:new hr(this._prevData,this._data).computeDiff()}:this.build()}};bt.SemanticTokensBuilder=wo});var Pa=E(gr=>{"use strict";Object.defineProperty(gr,"__esModule",{value:!0});gr.ShowDocumentFeature=void 0;var Xd=ve(),Qd=t=>class extends t{showDocument(e){return this.connection.sendRequest(Xd.ShowDocumentRequest.type,e)}};gr.ShowDocumentFeature=Qd});var ka=E(mr=>{"use strict";Object.defineProperty(mr,"__esModule",{value:!0});mr.FileOperationsFeature=void 0;var Qt=ve(),Yd=t=>class extends t{onDidCreateFiles(e){return this.connection.onNotification(Qt.DidCreateFilesNotification.type,n=>{e(n)})}onDidRenameFiles(e){return this.connection.onNotification(Qt.DidRenameFilesNotification.type,n=>{e(n)})}onDidDeleteFiles(e){return this.connection.onNotification(Qt.DidDeleteFilesNotification.type,n=>{e(n)})}onWillCreateFiles(e){return this.connection.onRequest(Qt.WillCreateFilesRequest.type,(n,r)=>e(n,r))}onWillRenameFiles(e){return this.connection.onRequest(Qt.WillRenameFilesRequest.type,(n,r)=>e(n,r))}onWillDeleteFiles(e){return this.connection.onRequest(Qt.WillDeleteFilesRequest.type,(n,r)=>e(n,r))}};mr.FileOperationsFeature=Yd});var Ca=E(pr=>{"use strict";Object.defineProperty(pr,"__esModule",{value:!0});pr.LinkedEditingRangeFeature=void 0;var Zd=ve(),ef=t=>class extends t{onLinkedEditingRange(e){return this.connection.onRequest(Zd.LinkedEditingRangeRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),void 0))}};pr.LinkedEditingRangeFeature=ef});var qa=E(yr=>{"use strict";Object.defineProperty(yr,"__esModule",{value:!0});yr.TypeHierarchyFeature=void 0;var Po=ve(),tf=t=>class extends t{get typeHierarchy(){return{onPrepare:e=>this.connection.onRequest(Po.TypeHierarchyPrepareRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),void 0)),onSupertypes:e=>{let n=Po.TypeHierarchySupertypesRequest.type;return this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onSubtypes:e=>{let n=Po.TypeHierarchySubtypesRequest.type;return this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};yr.TypeHierarchyFeature=tf});var Ea=E(vr=>{"use strict";Object.defineProperty(vr,"__esModule",{value:!0});vr.InlineValueFeature=void 0;var Sa=ve(),nf=t=>class extends t{get inlineValue(){return{refresh:()=>this.connection.sendRequest(Sa.InlineValueRefreshRequest.type),on:e=>this.connection.onRequest(Sa.InlineValueRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n)))}}};vr.InlineValueFeature=nf});var Na=E(br=>{"use strict";Object.defineProperty(br,"__esModule",{value:!0});br.InlayHintFeature=void 0;var ko=ve(),rf=t=>class extends t{get inlayHint(){return{refresh:()=>this.connection.sendRequest(ko.InlayHintRefreshRequest.type),on:e=>this.connection.onRequest(ko.InlayHintRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n))),resolve:e=>this.connection.onRequest(ko.InlayHintResolveRequest.type,(n,r)=>e(n,r))}}};br.InlayHintFeature=rf});var Ma=E(_r=>{"use strict";Object.defineProperty(_r,"__esModule",{value:!0});_r.DiagnosticFeature=void 0;var kn=ve(),of=t=>class extends t{get diagnostics(){return{refresh:()=>this.connection.sendRequest(kn.DiagnosticRefreshRequest.type),on:e=>this.connection.onRequest(kn.DocumentDiagnosticRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(kn.DocumentDiagnosticRequest.partialResult,n))),onWorkspace:e=>this.connection.onRequest(kn.WorkspaceDiagnosticRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(kn.WorkspaceDiagnosticRequest.partialResult,n)))}}};_r.DiagnosticFeature=of});var qo=E(Dr=>{"use strict";Object.defineProperty(Dr,"__esModule",{value:!0});Dr.TextDocuments=void 0;var Nt=ve(),Co=class{constructor(e){this._configuration=e,this._syncedDocuments=new Map,this._onDidChangeContent=new Nt.Emitter,this._onDidOpen=new Nt.Emitter,this._onDidClose=new Nt.Emitter,this._onDidSave=new Nt.Emitter,this._onWillSave=new Nt.Emitter}get onDidOpen(){return this._onDidOpen.event}get onDidChangeContent(){return this._onDidChangeContent.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(e){this._willSaveWaitUntil=e}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(e){return this._syncedDocuments.get(e)}all(){return Array.from(this._syncedDocuments.values())}keys(){return Array.from(this._syncedDocuments.keys())}listen(e){e.__textDocumentSync=Nt.TextDocumentSyncKind.Incremental;let n=[];return n.push(e.onDidOpenTextDocument(r=>{let i=r.textDocument,l=this._configuration.create(i.uri,i.languageId,i.version,i.text);this._syncedDocuments.set(i.uri,l);let y=Object.freeze({document:l});this._onDidOpen.fire(y),this._onDidChangeContent.fire(y)})),n.push(e.onDidChangeTextDocument(r=>{let i=r.textDocument,l=r.contentChanges;if(l.length===0)return;let{version:y}=i;if(y==null)throw new Error(`Received document change event for ${i.uri} without valid version identifier`);let R=this._syncedDocuments.get(i.uri);R!==void 0&&(R=this._configuration.update(R,l,y),this._syncedDocuments.set(i.uri,R),this._onDidChangeContent.fire(Object.freeze({document:R})))})),n.push(e.onDidCloseTextDocument(r=>{let i=this._syncedDocuments.get(r.textDocument.uri);i!==void 0&&(this._syncedDocuments.delete(r.textDocument.uri),this._onDidClose.fire(Object.freeze({document:i})))})),n.push(e.onWillSaveTextDocument(r=>{let i=this._syncedDocuments.get(r.textDocument.uri);i!==void 0&&this._onWillSave.fire(Object.freeze({document:i,reason:r.reason}))})),n.push(e.onWillSaveTextDocumentWaitUntil((r,i)=>{let l=this._syncedDocuments.get(r.textDocument.uri);return l!==void 0&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:l,reason:r.reason}),i):[]})),n.push(e.onDidSaveTextDocument(r=>{let i=this._syncedDocuments.get(r.textDocument.uri);i!==void 0&&this._onDidSave.fire(Object.freeze({document:i}))})),Nt.Disposable.create(()=>{n.forEach(r=>r.dispose())})}};Dr.TextDocuments=Co});var Eo=E(Yt=>{"use strict";Object.defineProperty(Yt,"__esModule",{value:!0});Yt.NotebookDocuments=Yt.NotebookSyncFeature=void 0;var Ae=ve(),Oa=qo(),sf=t=>class extends t{get synchronization(){return{onDidOpenNotebookDocument:e=>this.connection.onNotification(Ae.DidOpenNotebookDocumentNotification.type,n=>{e(n)}),onDidChangeNotebookDocument:e=>this.connection.onNotification(Ae.DidChangeNotebookDocumentNotification.type,n=>{e(n)}),onDidSaveNotebookDocument:e=>this.connection.onNotification(Ae.DidSaveNotebookDocumentNotification.type,n=>{e(n)}),onDidCloseNotebookDocument:e=>this.connection.onNotification(Ae.DidCloseNotebookDocumentNotification.type,n=>{e(n)})}}};Yt.NotebookSyncFeature=sf;var _t=class{onDidOpenTextDocument(e){return this.openHandler=e,Ae.Disposable.create(()=>{this.openHandler=void 0})}openTextDocument(e){this.openHandler&&this.openHandler(e)}onDidChangeTextDocument(e){return this.changeHandler=e,Ae.Disposable.create(()=>{this.changeHandler=e})}changeTextDocument(e){this.changeHandler&&this.changeHandler(e)}onDidCloseTextDocument(e){return this.closeHandler=e,Ae.Disposable.create(()=>{this.closeHandler=void 0})}closeTextDocument(e){this.closeHandler&&this.closeHandler(e)}onWillSaveTextDocument(){return _t.NULL_DISPOSE}onWillSaveTextDocumentWaitUntil(){return _t.NULL_DISPOSE}onDidSaveTextDocument(){return _t.NULL_DISPOSE}};_t.NULL_DISPOSE=Object.freeze({dispose:()=>{}});var So=class{constructor(e){e instanceof Oa.TextDocuments?this._cellTextDocuments=e:this._cellTextDocuments=new Oa.TextDocuments(e),this.notebookDocuments=new Map,this.notebookCellMap=new Map,this._onDidOpen=new Ae.Emitter,this._onDidChange=new Ae.Emitter,this._onDidSave=new Ae.Emitter,this._onDidClose=new Ae.Emitter}get cellTextDocuments(){return this._cellTextDocuments}getCellTextDocument(e){return this._cellTextDocuments.get(e.document)}getNotebookDocument(e){return this.notebookDocuments.get(e)}getNotebookCell(e){let n=this.notebookCellMap.get(e);return n&&n[0]}findNotebookDocumentForCell(e){let n=typeof e=="string"?e:e.document,r=this.notebookCellMap.get(n);return r&&r[1]}get onDidOpen(){return this._onDidOpen.event}get onDidSave(){return this._onDidSave.event}get onDidChange(){return this._onDidChange.event}get onDidClose(){return this._onDidClose.event}listen(e){let n=new _t,r=[];return r.push(this.cellTextDocuments.listen(n)),r.push(e.notebooks.synchronization.onDidOpenNotebookDocument(i=>{this.notebookDocuments.set(i.notebookDocument.uri,i.notebookDocument);for(let l of i.cellTextDocuments)n.openTextDocument({textDocument:l});this.updateCellMap(i.notebookDocument),this._onDidOpen.fire(i.notebookDocument)})),r.push(e.notebooks.synchronization.onDidChangeNotebookDocument(i=>{let l=this.notebookDocuments.get(i.notebookDocument.uri);if(l===void 0)return;l.version=i.notebookDocument.version;let y=l.metadata,R=!1,P=i.change;P.metadata!==void 0&&(R=!0,l.metadata=P.metadata);let w=[],T=[],M=[],S=[];if(P.cells!==void 0){let L=P.cells;if(L.structure!==void 0){let p=L.structure.array;if(l.cells.splice(p.start,p.deleteCount,...p.cells!==void 0?p.cells:[]),L.structure.didOpen!==void 0)for(let h of L.structure.didOpen)n.openTextDocument({textDocument:h}),w.push(h.uri);if(L.structure.didClose)for(let h of L.structure.didClose)n.closeTextDocument({textDocument:h}),T.push(h.uri)}if(L.data!==void 0){let p=new Map(L.data.map(h=>[h.document,h]));for(let h=0;h<=l.cells.length;h++){let D=p.get(l.cells[h].document);if(D!==void 0){let x=l.cells.splice(h,1,D);if(M.push({old:x[0],new:D}),p.delete(D.document),p.size===0)break}}}if(L.textContent!==void 0)for(let p of L.textContent)n.changeTextDocument({textDocument:p.document,contentChanges:p.changes}),S.push(p.document.uri)}this.updateCellMap(l);let I={notebookDocument:l};R&&(I.metadata={old:y,new:l.metadata});let z=[];for(let L of w)z.push(this.getNotebookCell(L));let J=[];for(let L of T)J.push(this.getNotebookCell(L));let G=[];for(let L of S)G.push(this.getNotebookCell(L));(z.length>0||J.length>0||M.length>0||G.length>0)&&(I.cells={added:z,removed:J,changed:{data:M,textContent:G}}),(I.metadata!==void 0||I.cells!==void 0)&&this._onDidChange.fire(I)})),r.push(e.notebooks.synchronization.onDidSaveNotebookDocument(i=>{let l=this.notebookDocuments.get(i.notebookDocument.uri);l!==void 0&&this._onDidSave.fire(l)})),r.push(e.notebooks.synchronization.onDidCloseNotebookDocument(i=>{let l=this.notebookDocuments.get(i.notebookDocument.uri);if(l!==void 0){this._onDidClose.fire(l);for(let y of i.cellTextDocuments)n.closeTextDocument({textDocument:y});this.notebookDocuments.delete(i.notebookDocument.uri);for(let y of l.cells)this.notebookCellMap.delete(y.document)}})),Ae.Disposable.create(()=>{r.forEach(i=>i.dispose())})}updateCellMap(e){for(let n of e.cells)this.notebookCellMap.set(n.document,[n,e])}};Yt.NotebookDocuments=So});var ja=E(Rr=>{"use strict";Object.defineProperty(Rr,"__esModule",{value:!0});Rr.MonikerFeature=void 0;var af=ve(),cf=t=>class extends t{get moniker(){return{on:e=>{let n=af.MonikerRequest.type;return this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};Rr.MonikerFeature=cf});var Fo=E(X=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0});X.createConnection=X.combineFeatures=X.combineNotebooksFeatures=X.combineLanguagesFeatures=X.combineWorkspaceFeatures=X.combineWindowFeatures=X.combineClientFeatures=X.combineTracerFeatures=X.combineTelemetryFeatures=X.combineConsoleFeatures=X._NotebooksImpl=X._LanguagesImpl=X.BulkUnregistration=X.BulkRegistration=X.ErrorMessageTracker=void 0;var q=ve(),Le=In(),Mo=bo(),W=Da(),uf=Ra(),lf=wa(),df=Ta(),ff=To(),hf=Pa(),gf=ka(),mf=Ca(),pf=qa(),yf=Ea(),vf=Na(),bf=Ma(),_f=Eo(),Df=ja();function No(t){if(t!==null)return t}var Oo=class{constructor(){this._messages=Object.create(null)}add(e){let n=this._messages[e];n||(n=0),n++,this._messages[e]=n}sendErrors(e){Object.keys(this._messages).forEach(n=>{e.window.showErrorMessage(n)})}};X.ErrorMessageTracker=Oo;var wr=class{constructor(){}rawAttach(e){this._rawConnection=e}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(e){}initialize(e){}error(e){this.send(q.MessageType.Error,e)}warn(e){this.send(q.MessageType.Warning,e)}info(e){this.send(q.MessageType.Info,e)}log(e){this.send(q.MessageType.Log,e)}send(e,n){this._rawConnection&&this._rawConnection.sendNotification(q.LogMessageNotification.type,{type:e,message:n}).catch(()=>{(0,q.RAL)().console.error("Sending log message failed")})}},jo=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}showErrorMessage(e,...n){let r={type:q.MessageType.Error,message:e,actions:n};return this.connection.sendRequest(q.ShowMessageRequest.type,r).then(No)}showWarningMessage(e,...n){let r={type:q.MessageType.Warning,message:e,actions:n};return this.connection.sendRequest(q.ShowMessageRequest.type,r).then(No)}showInformationMessage(e,...n){let r={type:q.MessageType.Info,message:e,actions:n};return this.connection.sendRequest(q.ShowMessageRequest.type,r).then(No)}},xa=(0,hf.ShowDocumentFeature)((0,W.ProgressFeature)(jo)),Rf;(function(t){function e(){return new Tr}t.create=e})(Rf=X.BulkRegistration||(X.BulkRegistration={}));var Tr=class{constructor(){this._registrations=[],this._registered=new Set}add(e,n){let r=Le.string(e)?e:e.method;if(this._registered.has(r))throw new Error(`${r} is already added to this registration`);let i=Mo.generateUuid();this._registrations.push({id:i,method:r,registerOptions:n||{}}),this._registered.add(r)}asRegistrationParams(){return{registrations:this._registrations}}},wf;(function(t){function e(){return new Cn(void 0,[])}t.create=e})(wf=X.BulkUnregistration||(X.BulkUnregistration={}));var Cn=class{constructor(e,n){this._connection=e,this._unregistrations=new Map,n.forEach(r=>{this._unregistrations.set(r.method,r)})}get isAttached(){return!!this._connection}attach(e){this._connection=e}add(e){this._unregistrations.set(e.method,e)}dispose(){let e=[];for(let r of this._unregistrations.values())e.push(r);let n={unregisterations:e};this._connection.sendRequest(q.UnregistrationRequest.type,n).catch(()=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(e){let n=Le.string(e)?e:e.method,r=this._unregistrations.get(n);if(!r)return!1;let i={unregisterations:[r]};return this._connection.sendRequest(q.UnregistrationRequest.type,i).then(()=>{this._unregistrations.delete(n)},l=>{this._connection.console.info(`Un-registering request handler for ${r.id} failed.`)}),!0}},Pr=class{attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}register(e,n,r){return e instanceof Tr?this.registerMany(e):e instanceof Cn?this.registerSingle1(e,n,r):this.registerSingle2(e,n)}registerSingle1(e,n,r){let i=Le.string(n)?n:n.method,l=Mo.generateUuid(),y={registrations:[{id:l,method:i,registerOptions:r||{}}]};return e.isAttached||e.attach(this.connection),this.connection.sendRequest(q.RegistrationRequest.type,y).then(R=>(e.add({id:l,method:i}),e),R=>(this.connection.console.info(`Registering request handler for ${i} failed.`),Promise.reject(R)))}registerSingle2(e,n){let r=Le.string(e)?e:e.method,i=Mo.generateUuid(),l={registrations:[{id:i,method:r,registerOptions:n||{}}]};return this.connection.sendRequest(q.RegistrationRequest.type,l).then(y=>q.Disposable.create(()=>{this.unregisterSingle(i,r).catch(()=>{this.connection.console.info(`Un-registering capability with id ${i} failed.`)})}),y=>(this.connection.console.info(`Registering request handler for ${r} failed.`),Promise.reject(y)))}unregisterSingle(e,n){let r={unregisterations:[{id:e,method:n}]};return this.connection.sendRequest(q.UnregistrationRequest.type,r).catch(()=>{this.connection.console.info(`Un-registering request handler for ${e} failed.`)})}registerMany(e){let n=e.asRegistrationParams();return this.connection.sendRequest(q.RegistrationRequest.type,n).then(()=>new Cn(this._connection,n.registrations.map(r=>({id:r.id,method:r.method}))),r=>(this.connection.console.info("Bulk registration failed."),Promise.reject(r)))}},xo=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}applyEdit(e){function n(i){return i&&!!i.edit}let r=n(e)?e:{edit:e};return this.connection.sendRequest(q.ApplyWorkspaceEditRequest.type,r)}},Fa=(0,gf.FileOperationsFeature)((0,lf.WorkspaceFoldersFeature)((0,uf.ConfigurationFeature)(xo))),kr=class{constructor(){this._trace=q.Trace.Off}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}set trace(e){this._trace=e}log(e,n){this._trace!==q.Trace.Off&&this.connection.sendNotification(q.LogTraceNotification.type,{message:e,verbose:this._trace===q.Trace.Verbose?n:void 0}).catch(()=>{})}},Cr=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}logEvent(e){this.connection.sendNotification(q.TelemetryEventNotification.type,e).catch(()=>{this.connection.console.log("Sending TelemetryEventNotification failed")})}},qr=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}attachWorkDoneProgress(e){return(0,W.attachWorkDone)(this.connection,e)}attachPartialResultProgress(e,n){return(0,W.attachPartialResult)(this.connection,n)}};X._LanguagesImpl=qr;var Ia=(0,Df.MonikerFeature)((0,bf.DiagnosticFeature)((0,vf.InlayHintFeature)((0,yf.InlineValueFeature)((0,pf.TypeHierarchyFeature)((0,mf.LinkedEditingRangeFeature)((0,ff.SemanticTokensFeature)((0,df.CallHierarchyFeature)(qr)))))))),Sr=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}attachWorkDoneProgress(e){return(0,W.attachWorkDone)(this.connection,e)}attachPartialResultProgress(e,n){return(0,W.attachPartialResult)(this.connection,n)}};X._NotebooksImpl=Sr;var Aa=(0,_f.NotebookSyncFeature)(Sr);function La(t,e){return function(n){return e(t(n))}}X.combineConsoleFeatures=La;function Wa(t,e){return function(n){return e(t(n))}}X.combineTelemetryFeatures=Wa;function Ha(t,e){return function(n){return e(t(n))}}X.combineTracerFeatures=Ha;function za(t,e){return function(n){return e(t(n))}}X.combineClientFeatures=za;function $a(t,e){return function(n){return e(t(n))}}X.combineWindowFeatures=$a;function Ba(t,e){return function(n){return e(t(n))}}X.combineWorkspaceFeatures=Ba;function Va(t,e){return function(n){return e(t(n))}}X.combineLanguagesFeatures=Va;function Ua(t,e){return function(n){return e(t(n))}}X.combineNotebooksFeatures=Ua;function Tf(t,e){function n(i,l,y){return i&&l?y(i,l):i||l}return{__brand:"features",console:n(t.console,e.console,La),tracer:n(t.tracer,e.tracer,Ha),telemetry:n(t.telemetry,e.telemetry,Wa),client:n(t.client,e.client,za),window:n(t.window,e.window,$a),workspace:n(t.workspace,e.workspace,Ba),languages:n(t.languages,e.languages,Va),notebooks:n(t.notebooks,e.notebooks,Ua)}}X.combineFeatures=Tf;function Pf(t,e,n){let r=n&&n.console?new(n.console(wr)):new wr,i=t(r);r.rawAttach(i);let l=n&&n.tracer?new(n.tracer(kr)):new kr,y=n&&n.telemetry?new(n.telemetry(Cr)):new Cr,R=n&&n.client?new(n.client(Pr)):new Pr,P=n&&n.window?new(n.window(xa)):new xa,w=n&&n.workspace?new(n.workspace(Fa)):new Fa,T=n&&n.languages?new(n.languages(Ia)):new Ia,M=n&&n.notebooks?new(n.notebooks(Aa)):new Aa,S=[r,l,y,R,P,w,T,M];function I(p){return p instanceof Promise?p:Le.thenable(p)?new Promise((h,D)=>{p.then(x=>h(x),x=>D(x))}):Promise.resolve(p)}let z,J,G,L={listen:()=>i.listen(),sendRequest:(p,...h)=>i.sendRequest(Le.string(p)?p:p.method,...h),onRequest:(p,h)=>i.onRequest(p,h),sendNotification:(p,h)=>{let D=Le.string(p)?p:p.method;return arguments.length===1?i.sendNotification(D):i.sendNotification(D,h)},onNotification:(p,h)=>i.onNotification(p,h),onProgress:i.onProgress,sendProgress:i.sendProgress,onInitialize:p=>(J=p,{dispose:()=>{J=void 0}}),onInitialized:p=>i.onNotification(q.InitializedNotification.type,p),onShutdown:p=>(z=p,{dispose:()=>{z=void 0}}),onExit:p=>(G=p,{dispose:()=>{G=void 0}}),get console(){return r},get telemetry(){return y},get tracer(){return l},get client(){return R},get window(){return P},get workspace(){return w},get languages(){return T},get notebooks(){return M},onDidChangeConfiguration:p=>i.onNotification(q.DidChangeConfigurationNotification.type,p),onDidChangeWatchedFiles:p=>i.onNotification(q.DidChangeWatchedFilesNotification.type,p),__textDocumentSync:void 0,onDidOpenTextDocument:p=>i.onNotification(q.DidOpenTextDocumentNotification.type,p),onDidChangeTextDocument:p=>i.onNotification(q.DidChangeTextDocumentNotification.type,p),onDidCloseTextDocument:p=>i.onNotification(q.DidCloseTextDocumentNotification.type,p),onWillSaveTextDocument:p=>i.onNotification(q.WillSaveTextDocumentNotification.type,p),onWillSaveTextDocumentWaitUntil:p=>i.onRequest(q.WillSaveTextDocumentWaitUntilRequest.type,p),onDidSaveTextDocument:p=>i.onNotification(q.DidSaveTextDocumentNotification.type,p),sendDiagnostics:p=>i.sendNotification(q.PublishDiagnosticsNotification.type,p),onHover:p=>i.onRequest(q.HoverRequest.type,(h,D)=>p(h,D,(0,W.attachWorkDone)(i,h),void 0)),onCompletion:p=>i.onRequest(q.CompletionRequest.type,(h,D)=>p(h,D,(0,W.attachWorkDone)(i,h),(0,W.attachPartialResult)(i,h))),onCompletionResolve:p=>i.onRequest(q.CompletionResolveRequest.type,p),onSignatureHelp:p=>i.onRequest(q.SignatureHelpRequest.type,(h,D)=>p(h,D,(0,W.attachWorkDone)(i,h),void 0)),onDeclaration:p=>i.onRequest(q.DeclarationRequest.type,(h,D)=>p(h,D,(0,W.attachWorkDone)(i,h),(0,W.attachPartialResult)(i,h))),onDefinition:p=>i.onRequest(q.DefinitionRequest.type,(h,D)=>p(h,D,(0,W.attachWorkDone)(i,h),(0,W.attachPartialResult)(i,h))),onTypeDefinition:p=>i.onRequest(q.TypeDefinitionRequest.type,(h,D)=>p(h,D,(0,W.attachWorkDone)(i,h),(0,W.attachPartialResult)(i,h))),onImplementation:p=>i.onRequest(q.ImplementationRequest.type,(h,D)=>p(h,D,(0,W.attachWorkDone)(i,h),(0,W.attachPartialResult)(i,h))),onReferences:p=>i.onRequest(q.ReferencesRequest.type,(h,D)=>p(h,D,(0,W.attachWorkDone)(i,h),(0,W.attachPartialResult)(i,h))),onDocumentHighlight:p=>i.onRequest(q.DocumentHighlightRequest.type,(h,D)=>p(h,D,(0,W.attachWorkDone)(i,h),(0,W.attachPartialResult)(i,h))),onDocumentSymbol:p=>i.onRequest(q.DocumentSymbolRequest.type,(h,D)=>p(h,D,(0,W.attachWorkDone)(i,h),(0,W.attachPartialResult)(i,h))),onWorkspaceSymbol:p=>i.onRequest(q.WorkspaceSymbolRequest.type,(h,D)=>p(h,D,(0,W.attachWorkDone)(i,h),(0,W.attachPartialResult)(i,h))),onWorkspaceSymbolResolve:p=>i.onRequest(q.WorkspaceSymbolResolveRequest.type,p),onCodeAction:p=>i.onRequest(q.CodeActionRequest.type,(h,D)=>p(h,D,(0,W.attachWorkDone)(i,h),(0,W.attachPartialResult)(i,h))),onCodeActionResolve:p=>i.onRequest(q.CodeActionResolveRequest.type,(h,D)=>p(h,D)),onCodeLens:p=>i.onRequest(q.CodeLensRequest.type,(h,D)=>p(h,D,(0,W.attachWorkDone)(i,h),(0,W.attachPartialResult)(i,h))),onCodeLensResolve:p=>i.onRequest(q.CodeLensResolveRequest.type,(h,D)=>p(h,D)),onDocumentFormatting:p=>i.onRequest(q.DocumentFormattingRequest.type,(h,D)=>p(h,D,(0,W.attachWorkDone)(i,h),void 0)),onDocumentRangeFormatting:p=>i.onRequest(q.DocumentRangeFormattingRequest.type,(h,D)=>p(h,D,(0,W.attachWorkDone)(i,h),void 0)),onDocumentOnTypeFormatting:p=>i.onRequest(q.DocumentOnTypeFormattingRequest.type,(h,D)=>p(h,D)),onRenameRequest:p=>i.onRequest(q.RenameRequest.type,(h,D)=>p(h,D,(0,W.attachWorkDone)(i,h),void 0)),onPrepareRename:p=>i.onRequest(q.PrepareRenameRequest.type,(h,D)=>p(h,D)),onDocumentLinks:p=>i.onRequest(q.DocumentLinkRequest.type,(h,D)=>p(h,D,(0,W.attachWorkDone)(i,h),(0,W.attachPartialResult)(i,h))),onDocumentLinkResolve:p=>i.onRequest(q.DocumentLinkResolveRequest.type,(h,D)=>p(h,D)),onDocumentColor:p=>i.onRequest(q.DocumentColorRequest.type,(h,D)=>p(h,D,(0,W.attachWorkDone)(i,h),(0,W.attachPartialResult)(i,h))),onColorPresentation:p=>i.onRequest(q.ColorPresentationRequest.type,(h,D)=>p(h,D,(0,W.attachWorkDone)(i,h),(0,W.attachPartialResult)(i,h))),onFoldingRanges:p=>i.onRequest(q.FoldingRangeRequest.type,(h,D)=>p(h,D,(0,W.attachWorkDone)(i,h),(0,W.attachPartialResult)(i,h))),onSelectionRanges:p=>i.onRequest(q.SelectionRangeRequest.type,(h,D)=>p(h,D,(0,W.attachWorkDone)(i,h),(0,W.attachPartialResult)(i,h))),onExecuteCommand:p=>i.onRequest(q.ExecuteCommandRequest.type,(h,D)=>p(h,D,(0,W.attachWorkDone)(i,h),void 0)),dispose:()=>i.dispose()};for(let p of S)p.attach(L);return i.onRequest(q.InitializeRequest.type,p=>{e.initialize(p),Le.string(p.trace)&&(l.trace=q.Trace.fromString(p.trace));for(let h of S)h.initialize(p.capabilities);if(J){let h=J(p,new q.CancellationTokenSource().token,(0,W.attachWorkDone)(i,p),void 0);return I(h).then(D=>{if(D instanceof q.ResponseError)return D;let x=D;x||(x={capabilities:{}});let B=x.capabilities;B||(B={},x.capabilities=B),B.textDocumentSync===void 0||B.textDocumentSync===null?B.textDocumentSync=Le.number(L.__textDocumentSync)?L.__textDocumentSync:q.TextDocumentSyncKind.None:!Le.number(B.textDocumentSync)&&!Le.number(B.textDocumentSync.change)&&(B.textDocumentSync.change=Le.number(L.__textDocumentSync)?L.__textDocumentSync:q.TextDocumentSyncKind.None);for(let te of S)te.fillServerCapabilities(B);return x})}else{let h={capabilities:{textDocumentSync:q.TextDocumentSyncKind.None}};for(let D of S)D.fillServerCapabilities(h.capabilities);return h}}),i.onRequest(q.ShutdownRequest.type,()=>{if(e.shutdownReceived=!0,z)return z(new q.CancellationTokenSource().token)}),i.onNotification(q.ExitNotification.type,()=>{try{G&&G()}finally{e.shutdownReceived?e.exit(0):e.exit(1)}}),i.onNotification(q.SetTraceNotification.type,p=>{l.trace=q.Trace.fromString(p.value)}),L}X.createConnection=Pf});var Ja=E(Ee=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});Ee.resolveModulePath=Ee.FileSystem=Ee.resolveGlobalYarnPath=Ee.resolveGlobalNodePath=Ee.resolve=Ee.uriToFilePath=void 0;var kf=require("url"),Xe=require("path"),Io=require("fs"),Wo=require("child_process");function Cf(t){let e=kf.parse(t);if(e.protocol!=="file:"||!e.path)return;let n=e.path.split("/");for(var r=0,i=n.length;r<i;r++)n[r]=decodeURIComponent(n[r]);if(process.platform==="win32"&&n.length>1){let l=n[0],y=n[1];l.length===0&&y.length>1&&y[1]===":"&&n.shift()}return Xe.normalize(n.join("/"))}Ee.uriToFilePath=Cf;function Ao(){return process.platform==="win32"}function Er(t,e,n,r){let i="NODE_PATH",l=["var p = process;","p.on('message',function(m){","if(m.c==='e'){","p.exit(0);","}","else if(m.c==='rs'){","try{","var r=require.resolve(m.a);","p.send({c:'r',s:true,r:r});","}","catch(err){","p.send({c:'r',s:false});","}","}","});"].join("");return new Promise((y,R)=>{let P=process.env,w=Object.create(null);Object.keys(P).forEach(T=>w[T]=P[T]),e&&Io.existsSync(e)&&(w[i]?w[i]=e+Xe.delimiter+w[i]:w[i]=e,r&&r(`NODE_PATH value is: ${w[i]}`)),w.ELECTRON_RUN_AS_NODE="1";try{let T=(0,Wo.fork)("",[],{cwd:n,env:w,execArgv:["-e",l]});if(T.pid===void 0){R(new Error(`Starting process to resolve node module  ${t} failed`));return}T.on("error",S=>{R(S)}),T.on("message",S=>{S.c==="r"&&(T.send({c:"e"}),S.s?y(S.r):R(new Error(`Failed to resolve module: ${t}`)))});let M={c:"rs",a:t};T.send(M)}catch(T){R(T)}})}Ee.resolve=Er;function Lo(t){let e="npm",n=Object.create(null);Object.keys(process.env).forEach(l=>n[l]=process.env[l]),n.NO_UPDATE_NOTIFIER="true";let r={encoding:"utf8",env:n};Ao()&&(e="npm.cmd",r.shell=!0);let i=()=>{};try{process.on("SIGPIPE",i);let l=(0,Wo.spawnSync)(e,["config","get","prefix"],r).stdout;if(!l){t&&t("'npm config get prefix' didn't return a value.");return}let y=l.trim();return t&&t(`'npm config get prefix' value is: ${y}`),y.length>0?Ao()?Xe.join(y,"node_modules"):Xe.join(y,"lib","node_modules"):void 0}catch{return}finally{process.removeListener("SIGPIPE",i)}}Ee.resolveGlobalNodePath=Lo;function qf(t){let e="yarn",n={encoding:"utf8"};Ao()&&(e="yarn.cmd",n.shell=!0);let r=()=>{};try{process.on("SIGPIPE",r);let i=(0,Wo.spawnSync)(e,["global","dir","--json"],n),l=i.stdout;if(!l){t&&(t("'yarn global dir' didn't return a value."),i.stderr&&t(i.stderr));return}let y=l.trim().split(/\r?\n/);for(let R of y)try{let P=JSON.parse(R);if(P.type==="log")return Xe.join(P.data,"node_modules")}catch{}return}catch{return}finally{process.removeListener("SIGPIPE",r)}}Ee.resolveGlobalYarnPath=qf;var Ka;(function(t){let e;function n(){return e!==void 0||(process.platform==="win32"?e=!1:e=!Io.existsSync(__filename.toUpperCase())||!Io.existsSync(__filename.toLowerCase())),e}t.isCaseSensitive=n;function r(i,l){return n()?Xe.normalize(l).indexOf(Xe.normalize(i))===0:Xe.normalize(l).toLowerCase().indexOf(Xe.normalize(i).toLowerCase())===0}t.isParent=r})(Ka=Ee.FileSystem||(Ee.FileSystem={}));function Sf(t,e,n,r){return n?(Xe.isAbsolute(n)||(n=Xe.join(t,n)),Er(e,n,n,r).then(i=>Ka.isParent(n,i)?i:Promise.reject(new Error(`Failed to load ${e} from node path location.`))).then(void 0,i=>Er(e,Lo(r),t,r))):Er(e,Lo(r),t,r)}Ee.resolveModulePath=Sf});var Ho=E((gg,Ga)=>{"use strict";Ga.exports=ve()});var Qa=E(Pe=>{"use strict";var Ef=Pe&&Pe.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Xa=Pe&&Pe.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Ef(e,t,n)};Object.defineProperty(Pe,"__esModule",{value:!0});Pe.ProposedFeatures=Pe.NotebookDocuments=Pe.TextDocuments=Pe.SemanticTokensBuilder=void 0;var Nf=To();Object.defineProperty(Pe,"SemanticTokensBuilder",{enumerable:!0,get:function(){return Nf.SemanticTokensBuilder}});Xa(ve(),Pe);var Mf=qo();Object.defineProperty(Pe,"TextDocuments",{enumerable:!0,get:function(){return Mf.TextDocuments}});var Of=Eo();Object.defineProperty(Pe,"NotebookDocuments",{enumerable:!0,get:function(){return Of.NotebookDocuments}});Xa(Fo(),Pe);var jf;(function(t){t.all={__brand:"features"}})(jf=Pe.ProposedFeatures||(Pe.ProposedFeatures={}))});var tc=E(Oe=>{"use strict";var xf=Oe&&Oe.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Za=Oe&&Oe.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&xf(e,t,n)};Object.defineProperty(Oe,"__esModule",{value:!0});Oe.createConnection=Oe.Files=void 0;var zo=In(),Ff=Fo(),qn=Ja(),Mt=Ho();Za(Ho(),Oe);Za(Qa(),Oe);var If;(function(t){t.uriToFilePath=qn.uriToFilePath,t.resolveGlobalNodePath=qn.resolveGlobalNodePath,t.resolveGlobalYarnPath=qn.resolveGlobalYarnPath,t.resolve=qn.resolve,t.resolveModulePath=qn.resolveModulePath})(If=Oe.Files||(Oe.Files={}));var Ya;function Nr(){if(Ya!==void 0)try{Ya.end()}catch{}}var Zt=!1,ec;function Af(){let t="--clientProcessId";function e(n){try{let r=parseInt(n);isNaN(r)||(ec=setInterval(()=>{try{process.kill(r,0)}catch{Nr(),process.exit(Zt?0:1)}},3e3))}catch{}}for(let n=2;n<process.argv.length;n++){let r=process.argv[n];if(r===t&&n+1<process.argv.length){e(process.argv[n+1]);return}else{let i=r.split("=");i[0]===t&&e(i[1])}}}Af();var Lf={initialize:t=>{let e=t.processId;zo.number(e)&&ec===void 0&&setInterval(()=>{try{process.kill(e,0)}catch{process.exit(Zt?0:1)}},3e3)},get shutdownReceived(){return Zt},set shutdownReceived(t){Zt=t},exit:t=>{Nr(),process.exit(t)}};function Wf(t,e,n,r){let i,l,y,R;return t!==void 0&&t.__brand==="features"&&(i=t,t=e,e=n,n=r),Mt.ConnectionStrategy.is(t)||Mt.ConnectionOptions.is(t)?R=t:(l=t,y=e,R=n),Hf(l,y,R,i)}Oe.createConnection=Wf;function Hf(t,e,n,r){if(!t&&!e&&process.argv.length>2){let R,P,w=process.argv.slice(2);for(let T=0;T<w.length;T++){let M=w[T];if(M==="--node-ipc"){t=new Mt.IPCMessageReader(process),e=new Mt.IPCMessageWriter(process);break}else if(M==="--stdio"){t=process.stdin,e=process.stdout;break}else if(M==="--socket"){R=parseInt(w[T+1]);break}else if(M==="--pipe"){P=w[T+1];break}else{var i=M.split("=");if(i[0]==="--socket"){R=parseInt(i[1]);break}else if(i[0]==="--pipe"){P=i[1];break}}}if(R){let T=(0,Mt.createServerSocketTransport)(R);t=T[0],e=T[1]}else if(P){let T=(0,Mt.createServerPipeTransport)(P);t=T[0],e=T[1]}}var l="Use arguments of createConnection or set command line parameters: '--node-ipc', '--stdio' or '--socket={number}'";if(!t)throw new Error("Connection input stream is not set. "+l);if(!e)throw new Error("Connection output stream is not set. "+l);if(zo.func(t.read)&&zo.func(t.on)){let R=t;R.on("end",()=>{Nr(),process.exit(Zt?0:1)}),R.on("close",()=>{Nr(),process.exit(Zt?0:1)})}let y=R=>(0,Mt.createProtocolConnection)(t,e,R,n);return(0,Ff.createConnection)(y,Lf,r)}});var rc=E((yg,nc)=>{"use strict";nc.exports=tc()});var ic=E((Or,Mr)=>{var zf=Or&&Or.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,l;r<i;r++)(l||!(r in e))&&(l||(l=Array.prototype.slice.call(e,0,r)),l[r]=e[r]);return t.concat(l||Array.prototype.slice.call(e))};(function(t){if(typeof Mr=="object"&&typeof Mr.exports=="object"){var e=t(require,Or);e!==void 0&&(Mr.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],t)})(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocument=void 0;var n=function(){function P(w,T,M,S){this._uri=w,this._languageId=T,this._version=M,this._content=S,this._lineOffsets=void 0}return Object.defineProperty(P.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),P.prototype.getText=function(w){if(w){var T=this.offsetAt(w.start),M=this.offsetAt(w.end);return this._content.substring(T,M)}return this._content},P.prototype.update=function(w,T){for(var M=0,S=w;M<S.length;M++){var I=S[M];if(P.isIncremental(I)){var z=y(I.range),J=this.offsetAt(z.start),G=this.offsetAt(z.end);this._content=this._content.substring(0,J)+I.text+this._content.substring(G,this._content.length);var L=Math.max(z.start.line,0),p=Math.max(z.end.line,0),h=this._lineOffsets,D=l(I.text,!1,J);if(p-L===D.length)for(var x=0,B=D.length;x<B;x++)h[x+L+1]=D[x];else D.length<1e4?h.splice.apply(h,zf([L+1,p-L],D,!1)):this._lineOffsets=h=h.slice(0,L+1).concat(D,h.slice(p+1));var te=I.text.length-(G-J);if(te!==0)for(var x=L+1+D.length,B=h.length;x<B;x++)h[x]=h[x]+te}else if(P.isFull(I))this._content=I.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received")}this._version=T},P.prototype.getLineOffsets=function(){return this._lineOffsets===void 0&&(this._lineOffsets=l(this._content,!0)),this._lineOffsets},P.prototype.positionAt=function(w){w=Math.max(Math.min(w,this._content.length),0);var T=this.getLineOffsets(),M=0,S=T.length;if(S===0)return{line:0,character:w};for(;M<S;){var I=Math.floor((M+S)/2);T[I]>w?S=I:M=I+1}var z=M-1;return{line:z,character:w-T[z]}},P.prototype.offsetAt=function(w){var T=this.getLineOffsets();if(w.line>=T.length)return this._content.length;if(w.line<0)return 0;var M=T[w.line],S=w.line+1<T.length?T[w.line+1]:this._content.length;return Math.max(Math.min(M+w.character,S),M)},Object.defineProperty(P.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),P.isIncremental=function(w){var T=w;return T!=null&&typeof T.text=="string"&&T.range!==void 0&&(T.rangeLength===void 0||typeof T.rangeLength=="number")},P.isFull=function(w){var T=w;return T!=null&&typeof T.text=="string"&&T.range===void 0&&T.rangeLength===void 0},P}(),r;(function(P){function w(S,I,z,J){return new n(S,I,z,J)}P.create=w;function T(S,I,z){if(S instanceof n)return S.update(I,z),S;throw new Error("TextDocument.update: document must be created by TextDocument.create")}P.update=T;function M(S,I){for(var z=S.getText(),J=i(I.map(R),function(B,te){var be=B.range.start.line-te.range.start.line;return be===0?B.range.start.character-te.range.start.character:be}),G=0,L=[],p=0,h=J;p<h.length;p++){var D=h[p],x=S.offsetAt(D.range.start);if(x<G)throw new Error("Overlapping edit");x>G&&L.push(z.substring(G,x)),D.newText.length&&L.push(D.newText),G=S.offsetAt(D.range.end)}return L.push(z.substr(G)),L.join("")}P.applyEdits=M})(r=e.TextDocument||(e.TextDocument={}));function i(P,w){if(P.length<=1)return P;var T=P.length/2|0,M=P.slice(0,T),S=P.slice(T);i(M,w),i(S,w);for(var I=0,z=0,J=0;I<M.length&&z<S.length;){var G=w(M[I],S[z]);G<=0?P[J++]=M[I++]:P[J++]=S[z++]}for(;I<M.length;)P[J++]=M[I++];for(;z<S.length;)P[J++]=S[z++];return P}function l(P,w,T){T===void 0&&(T=0);for(var M=w?[T]:[],S=0;S<P.length;S++){var I=P.charCodeAt(S);(I===13||I===10)&&(I===13&&S+1<P.length&&P.charCodeAt(S+1)===10&&S++,M.push(T+S+1))}return M}function y(P){var w=P.start,T=P.end;return w.line>T.line||w.line===T.line&&w.character>T.character?{start:T,end:w}:P}function R(P){var w=y(P.range);return w!==P.range?{newText:P.newText,range:w}:P}})});var A=Ko(rc()),oc=Ko(ic()),je=(0,A.createConnection)(A.ProposedFeatures.all),jr=new A.TextDocuments(oc.TextDocument),Bo=!1,$o=!1,$f=!1;je.onInitialize(t=>{let e=t.capabilities;Bo=!!(e.workspace&&e.workspace.configuration),$o=!!(e.workspace&&e.workspace.workspaceFolders),$f=!!(e.textDocument&&e.textDocument.publishDiagnostics&&e.textDocument.publishDiagnostics.relatedInformation);let n={capabilities:{textDocumentSync:A.TextDocumentSyncKind.Incremental,completionProvider:{resolveProvider:!0}}};return $o&&(n.capabilities.workspace={workspaceFolders:{supported:!0}}),n});je.onInitialized(()=>{Bo&&je.client.register(A.DidChangeConfigurationNotification.type,void 0),$o&&je.workspace.onDidChangeWorkspaceFolders(t=>{je.console.log("Workspace folder change event received.")})});var sc={maxNumberOfProblems:1e3},Bf=sc,ac=new Map;je.onDidChangeConfiguration(t=>{Bo?ac.clear():Bf=t.settings.languageServerExample||sc,jr.all().forEach(cc)});jr.onDidClose(t=>{ac.delete(t.document.uri)});jr.onDidChangeContent(t=>{cc(t.document)});async function cc(t){let e={maxNumberOfProblems:1e3},n=t.getText(),r=/\b(string|int|bool|float) =/g,i,l=0,y=[];for(;(i=r.exec(n))&&l<e.maxNumberOfProblems;){l++;let re={severity:A.DiagnosticSeverity.Error,range:{start:t.positionAt(i.index),end:t.positionAt(i.index+i[0].length)},message:"Expected an identifier",source:"rosemary"};y.push(re)}let R=/\b(if|loop|while|elif)({| {)/g,P;for(;(P=R.exec(n))&&l<e.maxNumberOfProblems;){l++;let re={severity:A.DiagnosticSeverity.Error,range:{start:t.positionAt(P.index),end:t.positionAt(P.index+P[0].length)},message:"Expected a condition",source:"rosemary"};y.push(re)}let w=/\bfunc({| {)/g,T;for(;(T=w.exec(n))&&l<e.maxNumberOfProblems;){l++;let re={severity:A.DiagnosticSeverity.Error,range:{start:t.positionAt(T.index),end:t.positionAt(T.index+T[0].length)},message:"Expected a name for the function",source:"rosemary"};y.push(re)}let M=/\b(goto|ret|input|print|inc|label)(?! \S|\S)/g,S;for(;(S=M.exec(n))&&l<e.maxNumberOfProblems;){l++;let re={severity:A.DiagnosticSeverity.Error,range:{start:t.positionAt(S.index),end:t.positionAt(S.index+S[0].length)},message:`Expected a value after ${S[0]}`,source:"rosemary"};y.push(re)}let I=/string [a-z]* = (?!")/g,z;for(;(z=I.exec(n))&&l<e.maxNumberOfProblems;){l++;let re={severity:A.DiagnosticSeverity.Error,range:{start:t.positionAt(z.index),end:t.positionAt(z.index+z[0].length)},message:"Expected a string after =",source:"rosemary"};y.push(re)}let J=/(int|float) [a-z]* =(\s|\D)*$/g,G;for(;(G=J.exec(n))&&l<e.maxNumberOfProblems;){l++;let re={severity:A.DiagnosticSeverity.Error,range:{start:t.positionAt(G.index),end:t.positionAt(G.index+G[0].length)},message:"Expected an int after =",source:"rosemary"};y.push(re)}let L=/bool [a-z]* =(\s|\D)(?!true|false)/g,p;for(;(p=L.exec(n))&&l<e.maxNumberOfProblems;){l++;let re={severity:A.DiagnosticSeverity.Error,range:{start:t.positionAt(p.index),end:t.positionAt(p.index+p[0].length)},message:"Expected true or false after =",source:"rosemary"};y.push(re)}let h=/extern(?! ")/g,D;for(;(D=h.exec(n))&&l<e.maxNumberOfProblems;){l++;let re={severity:A.DiagnosticSeverity.Error,range:{start:t.positionAt(D.index),end:t.positionAt(D.index+D[0].length)},message:"Expected quotation marks after extern",source:"rosemary"};y.push(re)}let x=/^[^\']*(\'[^\']*\'[^\']*)*(\')[^\']*$/gm,B;for(;(B=x.exec(n))&&l<e.maxNumberOfProblems;){l++;let re={severity:A.DiagnosticSeverity.Error,range:{start:t.positionAt(B.index),end:t.positionAt(B.index+B[0].length)},message:"Unended quotation marks or a multi-line string (not supported)",source:"rosemary"};y.push(re)}let te=/^#/gm,be;for(;(be=x.exec(n))&&l<e.maxNumberOfProblems;){l++;let re={severity:A.DiagnosticSeverity.Error,range:{start:t.positionAt(be.index),end:t.positionAt(be.index+be[0].length)},message:"Comments should be //, not #",source:"rosemary"};y.push(re)}je.sendDiagnostics({uri:t.uri,diagnostics:y})}je.onDidChangeWatchedFiles(t=>{je.console.log("We received an file change event")});je.onCompletion(t=>[{label:"if",kind:A.CompletionItemKind.Keyword,data:1},{label:"inc",kind:A.CompletionItemKind.Method,data:2},{label:"input",kind:A.CompletionItemKind.Method,data:3},{label:"int",kind:A.CompletionItemKind.Keyword,data:4},{label:"ints",kind:A.CompletionItemKind.Keyword,data:5},{label:"false",kind:A.CompletionItemKind.Keyword,data:6},{label:"float",kind:A.CompletionItemKind.Keyword,data:7},{label:"floats",kind:A.CompletionItemKind.Keyword,data:8},{label:"func",kind:A.CompletionItemKind.Keyword,data:9},{label:"while",kind:A.CompletionItemKind.Keyword,data:10},{label:"print",kind:A.CompletionItemKind.Method,data:11},{label:"string",kind:A.CompletionItemKind.Keyword,data:12},{label:"strings",kind:A.CompletionItemKind.Keyword,data:13},{label:"bool",kind:A.CompletionItemKind.Keyword,data:14},{label:"bools",kind:A.CompletionItemKind.Keyword,data:15},{label:"true",kind:A.CompletionItemKind.Keyword,data:16},{label:"elif",kind:A.CompletionItemKind.Keyword,data:17},{label:"else",kind:A.CompletionItemKind.Keyword,data:18},{label:"extern",kind:A.CompletionItemKind.Method,data:19},{label:"label",kind:A.CompletionItemKind.Method,data:20},{label:"loop",kind:A.CompletionItemKind.Keyword,data:21},{label:"ret",kind:A.CompletionItemKind.Method,data:22},{label:"goto",kind:A.CompletionItemKind.Method,data:23}]);je.onCompletionResolve(t=>(t.data===1?(t.detail="if <condition> { <code goes here> }",t.documentation={kind:"markdown",value:"Statement that runs if the condition is **true**."}):t.data===2?(t.detail="inc <module>",t.documentation="Include a file or module."):t.data===3?(t.detail="input <prompt>",t.documentation="Prompts the user for an input."):t.data===4?(t.detail="int <identifier> = <number>",t.documentation="Stores an integer value in <identifier>."):t.data===5?(t.detail="ints <identifiers>",t.documentation="Defines one or more integers."):t.data===6?(t.detail="false",t.documentation="Keyword that is the opposite of true."):t.data===7&&(t.detail="float <identifier> = <floating point number>",t.documentation="Stores a floating-point value in <identifier>."),t));jr.listen(je);je.listen();
